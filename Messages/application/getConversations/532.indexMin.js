"use strict";exports.id=532,exports.ids=[532],exports.modules={9532:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  fromHttp: () => (/* reexport */ fromHttp)\n});\n\n// EXTERNAL MODULE: ../../node_modules/@smithy/node-http-handler/dist-es/index.js + 15 modules\nvar dist_es = __webpack_require__(6118);\n// EXTERNAL MODULE: ../../node_modules/@smithy/property-provider/dist-es/index.js + 6 modules\nvar property_provider_dist_es = __webpack_require__(3631);\n// EXTERNAL MODULE: external "fs/promises"\nvar promises_ = __webpack_require__(1943);\nvar promises_default = /*#__PURE__*/__webpack_require__.n(promises_);\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-http/dist-es/fromHttp/checkUrl.js\n\nconst LOOPBACK_CIDR_IPv4 = "127.0.0.0/8";\nconst LOOPBACK_CIDR_IPv6 = "::1/128";\nconst ECS_CONTAINER_HOST = "169.254.170.2";\nconst EKS_CONTAINER_HOST_IPv4 = "169.254.170.23";\nconst EKS_CONTAINER_HOST_IPv6 = "[fd00:ec2::23]";\nconst checkUrl = (url) => {\n    if (url.protocol === "https:") {\n        return;\n    }\n    if (url.hostname === ECS_CONTAINER_HOST ||\n        url.hostname === EKS_CONTAINER_HOST_IPv4 ||\n        url.hostname === EKS_CONTAINER_HOST_IPv6) {\n        return;\n    }\n    if (url.hostname.includes("[")) {\n        if (url.hostname === "[::1]" || url.hostname === "[0000:0000:0000:0000:0000:0000:0000:0001]") {\n            return;\n        }\n    }\n    else {\n        if (url.hostname === "localhost") {\n            return;\n        }\n        const ipComponents = url.hostname.split(".");\n        const inRange = (component) => {\n            const num = parseInt(component, 10);\n            return 0 <= num && num <= 255;\n        };\n        if (ipComponents[0] === "127" &&\n            inRange(ipComponents[1]) &&\n            inRange(ipComponents[2]) &&\n            inRange(ipComponents[3]) &&\n            ipComponents.length === 4) {\n            return;\n        }\n    }\n    throw new property_provider_dist_es/* CredentialsProviderError */.C1(`URL not accepted. It must either be HTTPS or match one of the following:\n  - loopback CIDR 127.0.0.0/8 or [::1/128]\n  - ECS container host 169.254.170.2\n  - EKS container host 169.254.170.23 or [fd00:ec2::23]`);\n};\n\n// EXTERNAL MODULE: ../../node_modules/@smithy/protocol-http/dist-es/index.js + 5 modules\nvar protocol_http_dist_es = __webpack_require__(7624);\n// EXTERNAL MODULE: ../../node_modules/@smithy/smithy-client/dist-es/index.js + 23 modules\nvar smithy_client_dist_es = __webpack_require__(1802);\n// EXTERNAL MODULE: ../../node_modules/@smithy/util-stream/dist-es/index.js + 4 modules\nvar util_stream_dist_es = __webpack_require__(6649);\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-http/dist-es/fromHttp/requestHelpers.js\n\n\n\n\nfunction createGetRequest(url) {\n    return new protocol_http_dist_es/* HttpRequest */.Kd({\n        protocol: url.protocol,\n        hostname: url.hostname,\n        port: Number(url.port),\n        path: url.pathname,\n        query: Array.from(url.searchParams.entries()).reduce((acc, [k, v]) => {\n            acc[k] = v;\n            return acc;\n        }, {}),\n        fragment: url.hash,\n    });\n}\nasync function getCredentials(response) {\n    const contentType = response?.headers["content-type"] ?? response?.headers["Content-Type"] ?? "";\n    if (!contentType.includes("json")) {\n        console.warn("HTTP credential provider response header content-type was not application/json. Observed: " + contentType + ".");\n    }\n    const stream = (0,util_stream_dist_es/* sdkStreamMixin */.c9)(response.body);\n    const str = await stream.transformToString();\n    if (response.statusCode === 200) {\n        const parsed = JSON.parse(str);\n        if (typeof parsed.AccessKeyId !== "string" ||\n            typeof parsed.SecretAccessKey !== "string" ||\n            typeof parsed.Token !== "string" ||\n            typeof parsed.Expiration !== "string") {\n            throw new property_provider_dist_es/* CredentialsProviderError */.C1("HTTP credential provider response not of the required format, an object matching: " +\n                "{ AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }");\n        }\n        return {\n            accessKeyId: parsed.AccessKeyId,\n            secretAccessKey: parsed.SecretAccessKey,\n            sessionToken: parsed.Token,\n            expiration: (0,smithy_client_dist_es/* parseRfc3339DateTime */.EI)(parsed.Expiration),\n        };\n    }\n    if (response.statusCode >= 400 && response.statusCode < 500) {\n        let parsedBody = {};\n        try {\n            parsedBody = JSON.parse(str);\n        }\n        catch (e) { }\n        throw Object.assign(new property_provider_dist_es/* CredentialsProviderError */.C1(`Server responded with status: ${response.statusCode}`), {\n            Code: parsedBody.Code,\n            Message: parsedBody.Message,\n        });\n    }\n    throw new property_provider_dist_es/* CredentialsProviderError */.C1(`Server responded with status: ${response.statusCode}`);\n}\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-http/dist-es/fromHttp/retry-wrapper.js\nconst retryWrapper = (toRetry, maxRetries, delayMs) => {\n    return async () => {\n        for (let i = 0; i < maxRetries; ++i) {\n            try {\n                return await toRetry();\n            }\n            catch (e) {\n                await new Promise((resolve) => setTimeout(resolve, delayMs));\n            }\n        }\n        return await toRetry();\n    };\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-http/dist-es/fromHttp/fromHttp.js\n\n\n\n\n\n\nconst AWS_CONTAINER_CREDENTIALS_RELATIVE_URI = "AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";\nconst DEFAULT_LINK_LOCAL_HOST = "http://169.254.170.2";\nconst AWS_CONTAINER_CREDENTIALS_FULL_URI = "AWS_CONTAINER_CREDENTIALS_FULL_URI";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE = "AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN = "AWS_CONTAINER_AUTHORIZATION_TOKEN";\nconst fromHttp = (options) => {\n    options.logger?.debug("@aws-sdk/credential-provider-http", "fromHttp");\n    let host;\n    const relative = options.awsContainerCredentialsRelativeUri ?? process.env[AWS_CONTAINER_CREDENTIALS_RELATIVE_URI];\n    const full = options.awsContainerCredentialsFullUri ?? process.env[AWS_CONTAINER_CREDENTIALS_FULL_URI];\n    const token = options.awsContainerAuthorizationToken ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN];\n    const tokenFile = options.awsContainerAuthorizationTokenFile ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE];\n    if (relative && full) {\n        console.warn("AWS SDK HTTP credentials provider:", "you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri.");\n        console.warn("awsContainerCredentialsFullUri will take precedence.");\n    }\n    if (token && tokenFile) {\n        console.warn("AWS SDK HTTP credentials provider:", "you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile.");\n        console.warn("awsContainerAuthorizationToken will take precedence.");\n    }\n    if (full) {\n        host = full;\n    }\n    else if (relative) {\n        host = `${DEFAULT_LINK_LOCAL_HOST}${relative}`;\n    }\n    else {\n        throw new property_provider_dist_es/* CredentialsProviderError */.C1(`No HTTP credential provider host provided.\nSet AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`);\n    }\n    const url = new URL(host);\n    checkUrl(url);\n    const requestHandler = new dist_es/* NodeHttpHandler */.$c({\n        requestTimeout: options.timeout ?? 1000,\n        connectionTimeout: options.timeout ?? 1000,\n    });\n    return retryWrapper(async () => {\n        const request = createGetRequest(url);\n        if (token) {\n            request.headers.Authorization = token;\n        }\n        else if (tokenFile) {\n            request.headers.Authorization = (await promises_default().readFile(tokenFile)).toString();\n        }\n        try {\n            const result = await requestHandler.handle(request);\n            return getCredentials(result.response);\n        }\n        catch (e) {\n            throw new property_provider_dist_es/* CredentialsProviderError */.C1(String(e));\n        }\n    }, options.maxRetries ?? 3, options.timeout ?? 1000);\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-http/dist-es/index.js\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTUzMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBEQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FDekNxRTtBQUNqQjtBQUNTO0FBQ1I7QUFDOUM7QUFDUCxlQUFlLHlDQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhDQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBEQUF3QjtBQUM5QyxtQkFBbUIsMEZBQTBGO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsMERBQXdCLGtDQUFrQyxvQkFBb0I7QUFDOUc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGNBQWMsMERBQXdCLGtDQUFrQyxvQkFBb0I7QUFDNUY7OztBQ3BETztBQUNQO0FBQ0Esd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDWjREO0FBQ1M7QUFDeEM7QUFDUztBQUM4QjtBQUNyQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0JBQXdCLEVBQUUsU0FBUztBQUNyRDtBQUNBO0FBQ0Esa0JBQWtCLDBEQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxJQUFJLFFBQVE7QUFDWiwrQkFBK0IsK0JBQWU7QUFDOUM7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLFlBQVk7QUFDdkIsd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCwyQkFBVztBQUM5RDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0Esc0JBQXNCLDBEQUF3QjtBQUM5QztBQUNBLEtBQUs7QUFDTDs7O0FDMUQrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2luZGV4Ly4uLy4uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGUvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaHR0cC9kaXN0LWVzL2Zyb21IdHRwL2NoZWNrVXJsLmpzPzA2YjUiLCJ3ZWJwYWNrOi8vaW5kZXgvLi4vLi4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZS9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1odHRwL2Rpc3QtZXMvZnJvbUh0dHAvcmVxdWVzdEhlbHBlcnMuanM/YTJlYSIsIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWh0dHAvZGlzdC1lcy9mcm9tSHR0cC9yZXRyeS13cmFwcGVyLmpzPzQwYjIiLCJ3ZWJwYWNrOi8vaW5kZXgvLi4vLi4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZS9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1odHRwL2Rpc3QtZXMvZnJvbUh0dHAvZnJvbUh0dHAuanM/ZTI4NyIsIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWh0dHAvZGlzdC1lcy9pbmRleC5qcz84N2I4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5jb25zdCBMT09QQkFDS19DSURSX0lQdjQgPSBcIjEyNy4wLjAuMC84XCI7XG5jb25zdCBMT09QQkFDS19DSURSX0lQdjYgPSBcIjo6MS8xMjhcIjtcbmNvbnN0IEVDU19DT05UQUlORVJfSE9TVCA9IFwiMTY5LjI1NC4xNzAuMlwiO1xuY29uc3QgRUtTX0NPTlRBSU5FUl9IT1NUX0lQdjQgPSBcIjE2OS4yNTQuMTcwLjIzXCI7XG5jb25zdCBFS1NfQ09OVEFJTkVSX0hPU1RfSVB2NiA9IFwiW2ZkMDA6ZWMyOjoyM11cIjtcbmV4cG9ydCBjb25zdCBjaGVja1VybCA9ICh1cmwpID0+IHtcbiAgICBpZiAodXJsLnByb3RvY29sID09PSBcImh0dHBzOlwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHVybC5ob3N0bmFtZSA9PT0gRUNTX0NPTlRBSU5FUl9IT1NUIHx8XG4gICAgICAgIHVybC5ob3N0bmFtZSA9PT0gRUtTX0NPTlRBSU5FUl9IT1NUX0lQdjQgfHxcbiAgICAgICAgdXJsLmhvc3RuYW1lID09PSBFS1NfQ09OVEFJTkVSX0hPU1RfSVB2Nikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh1cmwuaG9zdG5hbWUuaW5jbHVkZXMoXCJbXCIpKSB7XG4gICAgICAgIGlmICh1cmwuaG9zdG5hbWUgPT09IFwiWzo6MV1cIiB8fCB1cmwuaG9zdG5hbWUgPT09IFwiWzAwMDA6MDAwMDowMDAwOjAwMDA6MDAwMDowMDAwOjAwMDA6MDAwMV1cIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAodXJsLmhvc3RuYW1lID09PSBcImxvY2FsaG9zdFwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXBDb21wb25lbnRzID0gdXJsLmhvc3RuYW1lLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgY29uc3QgaW5SYW5nZSA9IChjb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KGNvbXBvbmVudCwgMTApO1xuICAgICAgICAgICAgcmV0dXJuIDAgPD0gbnVtICYmIG51bSA8PSAyNTU7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpcENvbXBvbmVudHNbMF0gPT09IFwiMTI3XCIgJiZcbiAgICAgICAgICAgIGluUmFuZ2UoaXBDb21wb25lbnRzWzFdKSAmJlxuICAgICAgICAgICAgaW5SYW5nZShpcENvbXBvbmVudHNbMl0pICYmXG4gICAgICAgICAgICBpblJhbmdlKGlwQ29tcG9uZW50c1szXSkgJiZcbiAgICAgICAgICAgIGlwQ29tcG9uZW50cy5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBVUkwgbm90IGFjY2VwdGVkLiBJdCBtdXN0IGVpdGhlciBiZSBIVFRQUyBvciBtYXRjaCBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAgLSBsb29wYmFjayBDSURSIDEyNy4wLjAuMC84IG9yIFs6OjEvMTI4XVxuICAtIEVDUyBjb250YWluZXIgaG9zdCAxNjkuMjU0LjE3MC4yXG4gIC0gRUtTIGNvbnRhaW5lciBob3N0IDE2OS4yNTQuMTcwLjIzIG9yIFtmZDAwOmVjMjo6MjNdYCk7XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgcGFyc2VSZmMzMzM5RGF0ZVRpbWUgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBzZGtTdHJlYW1NaXhpbiB9IGZyb20gXCJAc21pdGh5L3V0aWwtc3RyZWFtXCI7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR2V0UmVxdWVzdCh1cmwpIHtcbiAgICByZXR1cm4gbmV3IEh0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2w6IHVybC5wcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWU6IHVybC5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogTnVtYmVyKHVybC5wb3J0KSxcbiAgICAgICAgcGF0aDogdXJsLnBhdGhuYW1lLFxuICAgICAgICBxdWVyeTogQXJyYXkuZnJvbSh1cmwuc2VhcmNoUGFyYW1zLmVudHJpZXMoKSkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4ge1xuICAgICAgICAgICAgYWNjW2tdID0gdjtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KSxcbiAgICAgICAgZnJhZ21lbnQ6IHVybC5oYXNoLFxuICAgIH0pO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENyZWRlbnRpYWxzKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZT8uaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSA/PyByZXNwb25zZT8uaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA/PyBcIlwiO1xuICAgIGlmICghY29udGVudFR5cGUuaW5jbHVkZXMoXCJqc29uXCIpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkhUVFAgY3JlZGVudGlhbCBwcm92aWRlciByZXNwb25zZSBoZWFkZXIgY29udGVudC10eXBlIHdhcyBub3QgYXBwbGljYXRpb24vanNvbi4gT2JzZXJ2ZWQ6IFwiICsgY29udGVudFR5cGUgKyBcIi5cIik7XG4gICAgfVxuICAgIGNvbnN0IHN0cmVhbSA9IHNka1N0cmVhbU1peGluKHJlc3BvbnNlLmJvZHkpO1xuICAgIGNvbnN0IHN0ciA9IGF3YWl0IHN0cmVhbS50cmFuc2Zvcm1Ub1N0cmluZygpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzdHIpO1xuICAgICAgICBpZiAodHlwZW9mIHBhcnNlZC5BY2Nlc3NLZXlJZCAhPT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICAgICAgdHlwZW9mIHBhcnNlZC5TZWNyZXRBY2Nlc3NLZXkgIT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiBwYXJzZWQuVG9rZW4gIT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiBwYXJzZWQuRXhwaXJhdGlvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihcIkhUVFAgY3JlZGVudGlhbCBwcm92aWRlciByZXNwb25zZSBub3Qgb2YgdGhlIHJlcXVpcmVkIGZvcm1hdCwgYW4gb2JqZWN0IG1hdGNoaW5nOiBcIiArXG4gICAgICAgICAgICAgICAgXCJ7IEFjY2Vzc0tleUlkOiBzdHJpbmcsIFNlY3JldEFjY2Vzc0tleTogc3RyaW5nLCBUb2tlbjogc3RyaW5nLCBFeHBpcmF0aW9uOiBzdHJpbmcocmZjMzMzOSkgfVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWNjZXNzS2V5SWQ6IHBhcnNlZC5BY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgIHNlY3JldEFjY2Vzc0tleTogcGFyc2VkLlNlY3JldEFjY2Vzc0tleSxcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbjogcGFyc2VkLlRva2VuLFxuICAgICAgICAgICAgZXhwaXJhdGlvbjogcGFyc2VSZmMzMzM5RGF0ZVRpbWUocGFyc2VkLkV4cGlyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSA0MDAgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA8IDUwMCkge1xuICAgICAgICBsZXQgcGFyc2VkQm9keSA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGFyc2VkQm9keSA9IEpTT04ucGFyc2Uoc3RyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIHRocm93IE9iamVjdC5hc3NpZ24obmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgU2VydmVyIHJlc3BvbmRlZCB3aXRoIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXNDb2RlfWApLCB7XG4gICAgICAgICAgICBDb2RlOiBwYXJzZWRCb2R5LkNvZGUsXG4gICAgICAgICAgICBNZXNzYWdlOiBwYXJzZWRCb2R5Lk1lc3NhZ2UsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c0NvZGV9YCk7XG59XG4iLCJleHBvcnQgY29uc3QgcmV0cnlXcmFwcGVyID0gKHRvUmV0cnksIG1heFJldHJpZXMsIGRlbGF5TXMpID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFJldHJpZXM7ICsraSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdG9SZXRyeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheU1zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRvUmV0cnkoKTtcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IE5vZGVIdHRwSGFuZGxlciB9IGZyb20gXCJAc21pdGh5L25vZGUtaHR0cC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IGZzIGZyb20gXCJmcy9wcm9taXNlc1wiO1xuaW1wb3J0IHsgY2hlY2tVcmwgfSBmcm9tIFwiLi9jaGVja1VybFwiO1xuaW1wb3J0IHsgY3JlYXRlR2V0UmVxdWVzdCwgZ2V0Q3JlZGVudGlhbHMgfSBmcm9tIFwiLi9yZXF1ZXN0SGVscGVyc1wiO1xuaW1wb3J0IHsgcmV0cnlXcmFwcGVyIH0gZnJvbSBcIi4vcmV0cnktd3JhcHBlclwiO1xuY29uc3QgQVdTX0NPTlRBSU5FUl9DUkVERU5USUFMU19SRUxBVElWRV9VUkkgPSBcIkFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfUkVMQVRJVkVfVVJJXCI7XG5jb25zdCBERUZBVUxUX0xJTktfTE9DQUxfSE9TVCA9IFwiaHR0cDovLzE2OS4yNTQuMTcwLjJcIjtcbmNvbnN0IEFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfRlVMTF9VUkkgPSBcIkFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfRlVMTF9VUklcIjtcbmNvbnN0IEFXU19DT05UQUlORVJfQVVUSE9SSVpBVElPTl9UT0tFTl9GSUxFID0gXCJBV1NfQ09OVEFJTkVSX0FVVEhPUklaQVRJT05fVE9LRU5fRklMRVwiO1xuY29uc3QgQVdTX0NPTlRBSU5FUl9BVVRIT1JJWkFUSU9OX1RPS0VOID0gXCJBV1NfQ09OVEFJTkVSX0FVVEhPUklaQVRJT05fVE9LRU5cIjtcbmV4cG9ydCBjb25zdCBmcm9tSHR0cCA9IChvcHRpb25zKSA9PiB7XG4gICAgb3B0aW9ucy5sb2dnZXI/LmRlYnVnKFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1odHRwXCIsIFwiZnJvbUh0dHBcIik7XG4gICAgbGV0IGhvc3Q7XG4gICAgY29uc3QgcmVsYXRpdmUgPSBvcHRpb25zLmF3c0NvbnRhaW5lckNyZWRlbnRpYWxzUmVsYXRpdmVVcmkgPz8gcHJvY2Vzcy5lbnZbQVdTX0NPTlRBSU5FUl9DUkVERU5USUFMU19SRUxBVElWRV9VUkldO1xuICAgIGNvbnN0IGZ1bGwgPSBvcHRpb25zLmF3c0NvbnRhaW5lckNyZWRlbnRpYWxzRnVsbFVyaSA/PyBwcm9jZXNzLmVudltBV1NfQ09OVEFJTkVSX0NSRURFTlRJQUxTX0ZVTExfVVJJXTtcbiAgICBjb25zdCB0b2tlbiA9IG9wdGlvbnMuYXdzQ29udGFpbmVyQXV0aG9yaXphdGlvblRva2VuID8/IHByb2Nlc3MuZW52W0FXU19DT05UQUlORVJfQVVUSE9SSVpBVElPTl9UT0tFTl07XG4gICAgY29uc3QgdG9rZW5GaWxlID0gb3B0aW9ucy5hd3NDb250YWluZXJBdXRob3JpemF0aW9uVG9rZW5GaWxlID8/IHByb2Nlc3MuZW52W0FXU19DT05UQUlORVJfQVVUSE9SSVpBVElPTl9UT0tFTl9GSUxFXTtcbiAgICBpZiAocmVsYXRpdmUgJiYgZnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJBV1MgU0RLIEhUVFAgY3JlZGVudGlhbHMgcHJvdmlkZXI6XCIsIFwieW91IGhhdmUgc2V0IGJvdGggYXdzQ29udGFpbmVyQ3JlZGVudGlhbHNSZWxhdGl2ZVVyaSBhbmQgYXdzQ29udGFpbmVyQ3JlZGVudGlhbHNGdWxsVXJpLlwiKTtcbiAgICAgICAgY29uc29sZS53YXJuKFwiYXdzQ29udGFpbmVyQ3JlZGVudGlhbHNGdWxsVXJpIHdpbGwgdGFrZSBwcmVjZWRlbmNlLlwiKTtcbiAgICB9XG4gICAgaWYgKHRva2VuICYmIHRva2VuRmlsZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJBV1MgU0RLIEhUVFAgY3JlZGVudGlhbHMgcHJvdmlkZXI6XCIsIFwieW91IGhhdmUgc2V0IGJvdGggYXdzQ29udGFpbmVyQXV0aG9yaXphdGlvblRva2VuIGFuZCBhd3NDb250YWluZXJBdXRob3JpemF0aW9uVG9rZW5GaWxlLlwiKTtcbiAgICAgICAgY29uc29sZS53YXJuKFwiYXdzQ29udGFpbmVyQXV0aG9yaXphdGlvblRva2VuIHdpbGwgdGFrZSBwcmVjZWRlbmNlLlwiKTtcbiAgICB9XG4gICAgaWYgKGZ1bGwpIHtcbiAgICAgICAgaG9zdCA9IGZ1bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlbGF0aXZlKSB7XG4gICAgICAgIGhvc3QgPSBgJHtERUZBVUxUX0xJTktfTE9DQUxfSE9TVH0ke3JlbGF0aXZlfWA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBObyBIVFRQIGNyZWRlbnRpYWwgcHJvdmlkZXIgaG9zdCBwcm92aWRlZC5cblNldCBBV1NfQ09OVEFJTkVSX0NSRURFTlRJQUxTX0ZVTExfVVJJIG9yIEFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfUkVMQVRJVkVfVVJJLmApO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGhvc3QpO1xuICAgIGNoZWNrVXJsKHVybCk7XG4gICAgY29uc3QgcmVxdWVzdEhhbmRsZXIgPSBuZXcgTm9kZUh0dHBIYW5kbGVyKHtcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCA/PyAxMDAwLFxuICAgICAgICBjb25uZWN0aW9uVGltZW91dDogb3B0aW9ucy50aW1lb3V0ID8/IDEwMDAsXG4gICAgfSk7XG4gICAgcmV0dXJuIHJldHJ5V3JhcHBlcihhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVHZXRSZXF1ZXN0KHVybCk7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSB0b2tlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b2tlbkZpbGUpIHtcbiAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uID0gKGF3YWl0IGZzLnJlYWRGaWxlKHRva2VuRmlsZSkpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0KTtcbiAgICAgICAgICAgIHJldHVybiBnZXRDcmVkZW50aWFscyhyZXN1bHQucmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFN0cmluZyhlKSk7XG4gICAgICAgIH1cbiAgICB9LCBvcHRpb25zLm1heFJldHJpZXMgPz8gMywgb3B0aW9ucy50aW1lb3V0ID8/IDEwMDApO1xufTtcbiIsImV4cG9ydCB7IGZyb21IdHRwIH0gZnJvbSBcIi4vZnJvbUh0dHAvZnJvbUh0dHBcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9532\n')}};
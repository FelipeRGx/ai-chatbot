"use strict";exports.id=809,exports.ids=[809],exports.modules={5809:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  fromSSO: () => (/* reexport */ fromSSO)\n});\n\n// UNUSED EXPORTS: isSsoProfile, validateSsoProfile\n\n// EXTERNAL MODULE: ../../node_modules/@smithy/property-provider/dist-es/index.js + 6 modules\nvar dist_es = __webpack_require__(3631);\n// EXTERNAL MODULE: ../../node_modules/@smithy/shared-ini-file-loader/dist-es/index.js + 15 modules\nvar shared_ini_file_loader_dist_es = __webpack_require__(7073);\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-sso/dist-es/isSsoProfile.js\nconst isSsoProfile = (arg) => arg &&\n    (typeof arg.sso_start_url === "string" ||\n        typeof arg.sso_account_id === "string" ||\n        typeof arg.sso_session === "string" ||\n        typeof arg.sso_region === "string" ||\n        typeof arg.sso_role_name === "string");\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/token-providers/dist-es/constants.js\nconst EXPIRE_WINDOW_MS = 5 * 60 * 1000;\nconst REFRESH_MESSAGE = `To refresh this SSO session run \'aws sso login\' with the corresponding profile.`;\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/token-providers/dist-es/getSsoOidcClient.js\nconst ssoOidcClientsHash = {};\nconst getSsoOidcClient = async (ssoRegion) => {\n    const { SSOOIDCClient } = await __webpack_require__.e(/* import() */ 67).then(__webpack_require__.bind(__webpack_require__, 2067));\n    if (ssoOidcClientsHash[ssoRegion]) {\n        return ssoOidcClientsHash[ssoRegion];\n    }\n    const ssoOidcClient = new SSOOIDCClient({ region: ssoRegion });\n    ssoOidcClientsHash[ssoRegion] = ssoOidcClient;\n    return ssoOidcClient;\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/token-providers/dist-es/getNewSsoOidcToken.js\n\nconst getNewSsoOidcToken = async (ssoToken, ssoRegion) => {\n    const { CreateTokenCommand } = await __webpack_require__.e(/* import() */ 67).then(__webpack_require__.bind(__webpack_require__, 2067));\n    const ssoOidcClient = await getSsoOidcClient(ssoRegion);\n    return ssoOidcClient.send(new CreateTokenCommand({\n        clientId: ssoToken.clientId,\n        clientSecret: ssoToken.clientSecret,\n        refreshToken: ssoToken.refreshToken,\n        grantType: "refresh_token",\n    }));\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/token-providers/dist-es/validateTokenExpiry.js\n\n\nconst validateTokenExpiry = (token) => {\n    if (token.expiration && token.expiration.getTime() < Date.now()) {\n        throw new dist_es/* TokenProviderError */.Jh(`Token is expired. ${REFRESH_MESSAGE}`, false);\n    }\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/token-providers/dist-es/validateTokenKey.js\n\n\nconst validateTokenKey = (key, value, forRefresh = false) => {\n    if (typeof value === "undefined") {\n        throw new dist_es/* TokenProviderError */.Jh(`Value not present for \'${key}\' in SSO Token${forRefresh ? ". Cannot refresh" : ""}. ${REFRESH_MESSAGE}`, false);\n    }\n};\n\n// EXTERNAL MODULE: external "fs"\nvar external_fs_ = __webpack_require__(9896);\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/token-providers/dist-es/writeSSOTokenToFile.js\n\n\nconst { writeFile } = external_fs_.promises;\nconst writeSSOTokenToFile = (id, ssoToken) => {\n    const tokenFilepath = (0,shared_ini_file_loader_dist_es/* getSSOTokenFilepath */.C9)(id);\n    const tokenString = JSON.stringify(ssoToken, null, 2);\n    return writeFile(tokenFilepath, tokenString);\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/token-providers/dist-es/fromSso.js\n\n\n\n\n\n\n\nconst lastRefreshAttemptTime = new Date(0);\nconst fromSso = (init = {}) => async () => {\n    init.logger?.debug("@aws-sdk/token-providers", "fromSso");\n    const profiles = await (0,shared_ini_file_loader_dist_es/* parseKnownFiles */.YU)(init);\n    const profileName = (0,shared_ini_file_loader_dist_es/* getProfileName */.Bz)(init);\n    const profile = profiles[profileName];\n    if (!profile) {\n        throw new dist_es/* TokenProviderError */.Jh(`Profile \'${profileName}\' could not be found in shared credentials file.`, false);\n    }\n    else if (!profile["sso_session"]) {\n        throw new dist_es/* TokenProviderError */.Jh(`Profile \'${profileName}\' is missing required property \'sso_session\'.`);\n    }\n    const ssoSessionName = profile["sso_session"];\n    const ssoSessions = await (0,shared_ini_file_loader_dist_es/* loadSsoSessionData */.qw)(init);\n    const ssoSession = ssoSessions[ssoSessionName];\n    if (!ssoSession) {\n        throw new dist_es/* TokenProviderError */.Jh(`Sso session \'${ssoSessionName}\' could not be found in shared credentials file.`, false);\n    }\n    for (const ssoSessionRequiredKey of ["sso_start_url", "sso_region"]) {\n        if (!ssoSession[ssoSessionRequiredKey]) {\n            throw new dist_es/* TokenProviderError */.Jh(`Sso session \'${ssoSessionName}\' is missing required property \'${ssoSessionRequiredKey}\'.`, false);\n        }\n    }\n    const ssoStartUrl = ssoSession["sso_start_url"];\n    const ssoRegion = ssoSession["sso_region"];\n    let ssoToken;\n    try {\n        ssoToken = await (0,shared_ini_file_loader_dist_es/* getSSOTokenFromFile */.vf)(ssoSessionName);\n    }\n    catch (e) {\n        throw new dist_es/* TokenProviderError */.Jh(`The SSO session token associated with profile=${profileName} was not found or is invalid. ${REFRESH_MESSAGE}`, false);\n    }\n    validateTokenKey("accessToken", ssoToken.accessToken);\n    validateTokenKey("expiresAt", ssoToken.expiresAt);\n    const { accessToken, expiresAt } = ssoToken;\n    const existingToken = { token: accessToken, expiration: new Date(expiresAt) };\n    if (existingToken.expiration.getTime() - Date.now() > EXPIRE_WINDOW_MS) {\n        return existingToken;\n    }\n    if (Date.now() - lastRefreshAttemptTime.getTime() < 30 * 1000) {\n        validateTokenExpiry(existingToken);\n        return existingToken;\n    }\n    validateTokenKey("clientId", ssoToken.clientId, true);\n    validateTokenKey("clientSecret", ssoToken.clientSecret, true);\n    validateTokenKey("refreshToken", ssoToken.refreshToken, true);\n    try {\n        lastRefreshAttemptTime.setTime(Date.now());\n        const newSsoOidcToken = await getNewSsoOidcToken(ssoToken, ssoRegion);\n        validateTokenKey("accessToken", newSsoOidcToken.accessToken);\n        validateTokenKey("expiresIn", newSsoOidcToken.expiresIn);\n        const newTokenExpiration = new Date(Date.now() + newSsoOidcToken.expiresIn * 1000);\n        try {\n            await writeSSOTokenToFile(ssoSessionName, {\n                ...ssoToken,\n                accessToken: newSsoOidcToken.accessToken,\n                expiresAt: newTokenExpiration.toISOString(),\n                refreshToken: newSsoOidcToken.refreshToken,\n            });\n        }\n        catch (error) {\n        }\n        return {\n            token: newSsoOidcToken.accessToken,\n            expiration: newTokenExpiration,\n        };\n    }\n    catch (error) {\n        validateTokenExpiry(existingToken);\n        return existingToken;\n    }\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-sso/dist-es/resolveSSOCredentials.js\n\n\n\nconst SHOULD_FAIL_CREDENTIAL_CHAIN = false;\nconst resolveSSOCredentials = async ({ ssoStartUrl, ssoSession, ssoAccountId, ssoRegion, ssoRoleName, ssoClient, clientConfig, profile, }) => {\n    let token;\n    const refreshMessage = `To refresh this SSO session run aws sso login with the corresponding profile.`;\n    if (ssoSession) {\n        try {\n            const _token = await fromSso({ profile })();\n            token = {\n                accessToken: _token.token,\n                expiresAt: new Date(_token.expiration).toISOString(),\n            };\n        }\n        catch (e) {\n            throw new dist_es/* CredentialsProviderError */.C1(e.message, SHOULD_FAIL_CREDENTIAL_CHAIN);\n        }\n    }\n    else {\n        try {\n            token = await (0,shared_ini_file_loader_dist_es/* getSSOTokenFromFile */.vf)(ssoStartUrl);\n        }\n        catch (e) {\n            throw new dist_es/* CredentialsProviderError */.C1(`The SSO session associated with this profile is invalid. ${refreshMessage}`, SHOULD_FAIL_CREDENTIAL_CHAIN);\n        }\n    }\n    if (new Date(token.expiresAt).getTime() - Date.now() <= 0) {\n        throw new dist_es/* CredentialsProviderError */.C1(`The SSO session associated with this profile has expired. ${refreshMessage}`, SHOULD_FAIL_CREDENTIAL_CHAIN);\n    }\n    const { accessToken } = token;\n    const { SSOClient, GetRoleCredentialsCommand } = await __webpack_require__.e(/* import() */ 853).then(__webpack_require__.bind(__webpack_require__, 1853));\n    const sso = ssoClient ||\n        new SSOClient(Object.assign({}, clientConfig ?? {}, {\n            region: clientConfig?.region ?? ssoRegion,\n        }));\n    let ssoResp;\n    try {\n        ssoResp = await sso.send(new GetRoleCredentialsCommand({\n            accountId: ssoAccountId,\n            roleName: ssoRoleName,\n            accessToken,\n        }));\n    }\n    catch (e) {\n        throw dist_es/* CredentialsProviderError */.C1.from(e, SHOULD_FAIL_CREDENTIAL_CHAIN);\n    }\n    const { roleCredentials: { accessKeyId, secretAccessKey, sessionToken, expiration, credentialScope } = {} } = ssoResp;\n    if (!accessKeyId || !secretAccessKey || !sessionToken || !expiration) {\n        throw new dist_es/* CredentialsProviderError */.C1("SSO returns an invalid temporary credential.", SHOULD_FAIL_CREDENTIAL_CHAIN);\n    }\n    return { accessKeyId, secretAccessKey, sessionToken, expiration: new Date(expiration), credentialScope };\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-sso/dist-es/validateSsoProfile.js\n\nconst validateSsoProfile = (profile) => {\n    const { sso_start_url, sso_account_id, sso_region, sso_role_name } = profile;\n    if (!sso_start_url || !sso_account_id || !sso_region || !sso_role_name) {\n        throw new dist_es/* CredentialsProviderError */.C1(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", ` +\n            `"sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(profile).join(", ")}\\nReference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`, false);\n    }\n    return profile;\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-sso/dist-es/fromSSO.js\n\n\n\n\n\nconst fromSSO = (init = {}) => async () => {\n    init.logger?.debug("@aws-sdk/credential-provider-sso", "fromSSO");\n    const { ssoStartUrl, ssoAccountId, ssoRegion, ssoRoleName, ssoSession } = init;\n    const { ssoClient } = init;\n    const profileName = (0,shared_ini_file_loader_dist_es/* getProfileName */.Bz)(init);\n    if (!ssoStartUrl && !ssoAccountId && !ssoRegion && !ssoRoleName && !ssoSession) {\n        const profiles = await (0,shared_ini_file_loader_dist_es/* parseKnownFiles */.YU)(init);\n        const profile = profiles[profileName];\n        if (!profile) {\n            throw new dist_es/* CredentialsProviderError */.C1(`Profile ${profileName} was not found.`);\n        }\n        if (!isSsoProfile(profile)) {\n            throw new dist_es/* CredentialsProviderError */.C1(`Profile ${profileName} is not configured with SSO credentials.`);\n        }\n        if (profile?.sso_session) {\n            const ssoSessions = await (0,shared_ini_file_loader_dist_es/* loadSsoSessionData */.qw)(init);\n            const session = ssoSessions[profile.sso_session];\n            const conflictMsg = ` configurations in profile ${profileName} and sso-session ${profile.sso_session}`;\n            if (ssoRegion && ssoRegion !== session.sso_region) {\n                throw new dist_es/* CredentialsProviderError */.C1(`Conflicting SSO region` + conflictMsg, false);\n            }\n            if (ssoStartUrl && ssoStartUrl !== session.sso_start_url) {\n                throw new dist_es/* CredentialsProviderError */.C1(`Conflicting SSO start_url` + conflictMsg, false);\n            }\n            profile.sso_region = session.sso_region;\n            profile.sso_start_url = session.sso_start_url;\n        }\n        const { sso_start_url, sso_account_id, sso_region, sso_role_name, sso_session } = validateSsoProfile(profile);\n        return resolveSSOCredentials({\n            ssoStartUrl: sso_start_url,\n            ssoSession: sso_session,\n            ssoAccountId: sso_account_id,\n            ssoRegion: sso_region,\n            ssoRoleName: sso_role_name,\n            ssoClient: ssoClient,\n            clientConfig: init.clientConfig,\n            profile: profileName,\n        });\n    }\n    else if (!ssoStartUrl || !ssoAccountId || !ssoRegion || !ssoRoleName) {\n        throw new dist_es/* CredentialsProviderError */.C1("Incomplete configuration. The fromSSO() argument hash must include " +\n            \'"ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"\');\n    }\n    else {\n        return resolveSSOCredentials({\n            ssoStartUrl,\n            ssoSession,\n            ssoAccountId,\n            ssoRegion,\n            ssoRoleName,\n            ssoClient,\n            clientConfig: init.clientConfig,\n            profile: profileName,\n        });\n    }\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/credential-provider-node/node_modules/@aws-sdk/credential-provider-sso/dist-es/index.js\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBLFlBQVksbUJBQW1CLDBFQUEwRSxPQUFPO0FBQ2hIO0FBQ0Esa0JBQWtCLHdDQUF3QjtBQUMxQztBQUNBLGFBQWE7QUFDYjs7O0FDcERxRTtBQUM5RDtBQUNQLFlBQVksMkRBQTJEO0FBQ3ZFO0FBQ0Esa0JBQWtCLHdDQUF3QjtBQUMxQyxtRUFBbUUsZ0NBQWdDO0FBQ25HO0FBQ0E7QUFDQTs7O0FDUnFFO0FBQ2dDO0FBQ3ZEO0FBQ2tCO0FBQ047QUFDbkQsMEJBQTBCO0FBQ2pDO0FBQ0EsWUFBWSxnRUFBZ0U7QUFDNUUsWUFBWSxZQUFZO0FBQ3hCLHdCQUF3Qix5REFBYztBQUN0QztBQUNBLCtCQUErQiwwREFBZTtBQUM5QztBQUNBO0FBQ0Esc0JBQXNCLHdDQUF3QixZQUFZLGFBQWE7QUFDdkU7QUFDQSxhQUFhLFlBQVk7QUFDekIsc0JBQXNCLHdDQUF3QixZQUFZLGFBQWE7QUFDdkU7QUFDQTtBQUNBLHNDQUFzQyw2REFBa0I7QUFDeEQ7QUFDQSw4REFBOEQsYUFBYSxrQkFBa0Isb0JBQW9CO0FBQ2pIO0FBQ0EsMEJBQTBCLHdDQUF3QjtBQUNsRDtBQUNBO0FBQ0EsMEJBQTBCLHdDQUF3QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3RUFBd0UsRUFBRSxrQkFBa0I7QUFDNUcsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCLHdDQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxlQUFlLHFCQUFxQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7OztBQzVEMEI7QUFDSztBQUNQO0FBQ2EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzby9kaXN0LWVzL2lzU3NvUHJvZmlsZS5qcz83YzE3Iiwid2VicGFjazovL2luZGV4Ly4uLy4uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGUvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL2NvbnN0YW50cy5qcz9mNDhjIiwid2VicGFjazovL2luZGV4Ly4uLy4uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGUvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL2dldFNzb09pZGNDbGllbnQuanM/NDZjMyIsIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy9nZXROZXdTc29PaWRjVG9rZW4uanM/OTIwZSIsIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy92YWxpZGF0ZVRva2VuRXhwaXJ5LmpzPzYxNDkiLCJ3ZWJwYWNrOi8vaW5kZXgvLi4vLi4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZS9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzL2Rpc3QtZXMvdmFsaWRhdGVUb2tlbktleS5qcz9iNGQwIiwid2VicGFjazovL2luZGV4Ly4uLy4uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGUvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL3dyaXRlU1NPVG9rZW5Ub0ZpbGUuanM/ZTQ1OCIsIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy9mcm9tU3NvLmpzP2U0NWYiLCJ3ZWJwYWNrOi8vaW5kZXgvLi4vLi4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZS9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc28vZGlzdC1lcy9yZXNvbHZlU1NPQ3JlZGVudGlhbHMuanM/YjA3OSIsIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzby9kaXN0LWVzL3ZhbGlkYXRlU3NvUHJvZmlsZS5qcz9jMDVhIiwid2VicGFjazovL2luZGV4Ly4uLy4uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGUvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItc3NvL2Rpc3QtZXMvZnJvbVNTTy5qcz8wMGY5Iiwid2VicGFjazovL2luZGV4Ly4uLy4uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGUvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItc3NvL2Rpc3QtZXMvaW5kZXguanM/YzliMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaXNTc29Qcm9maWxlID0gKGFyZykgPT4gYXJnICYmXG4gICAgKHR5cGVvZiBhcmcuc3NvX3N0YXJ0X3VybCA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICB0eXBlb2YgYXJnLnNzb19hY2NvdW50X2lkID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGVvZiBhcmcuc3NvX3Nlc3Npb24gPT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgdHlwZW9mIGFyZy5zc29fcmVnaW9uID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGVvZiBhcmcuc3NvX3JvbGVfbmFtZSA9PT0gXCJzdHJpbmdcIik7XG4iLCJleHBvcnQgY29uc3QgRVhQSVJFX1dJTkRPV19NUyA9IDUgKiA2MCAqIDEwMDA7XG5leHBvcnQgY29uc3QgUkVGUkVTSF9NRVNTQUdFID0gYFRvIHJlZnJlc2ggdGhpcyBTU08gc2Vzc2lvbiBydW4gJ2F3cyBzc28gbG9naW4nIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvZmlsZS5gO1xuIiwiY29uc3Qgc3NvT2lkY0NsaWVudHNIYXNoID0ge307XG5leHBvcnQgY29uc3QgZ2V0U3NvT2lkY0NsaWVudCA9IGFzeW5jIChzc29SZWdpb24pID0+IHtcbiAgICBjb25zdCB7IFNTT09JRENDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIi4vbG9hZFNzb09pZGNcIik7XG4gICAgaWYgKHNzb09pZGNDbGllbnRzSGFzaFtzc29SZWdpb25dKSB7XG4gICAgICAgIHJldHVybiBzc29PaWRjQ2xpZW50c0hhc2hbc3NvUmVnaW9uXTtcbiAgICB9XG4gICAgY29uc3Qgc3NvT2lkY0NsaWVudCA9IG5ldyBTU09PSURDQ2xpZW50KHsgcmVnaW9uOiBzc29SZWdpb24gfSk7XG4gICAgc3NvT2lkY0NsaWVudHNIYXNoW3Nzb1JlZ2lvbl0gPSBzc29PaWRjQ2xpZW50O1xuICAgIHJldHVybiBzc29PaWRjQ2xpZW50O1xufTtcbiIsImltcG9ydCB7IGdldFNzb09pZGNDbGllbnQgfSBmcm9tIFwiLi9nZXRTc29PaWRjQ2xpZW50XCI7XG5leHBvcnQgY29uc3QgZ2V0TmV3U3NvT2lkY1Rva2VuID0gYXN5bmMgKHNzb1Rva2VuLCBzc29SZWdpb24pID0+IHtcbiAgICBjb25zdCB7IENyZWF0ZVRva2VuQ29tbWFuZCB9ID0gYXdhaXQgaW1wb3J0KFwiLi9sb2FkU3NvT2lkY1wiKTtcbiAgICBjb25zdCBzc29PaWRjQ2xpZW50ID0gYXdhaXQgZ2V0U3NvT2lkY0NsaWVudChzc29SZWdpb24pO1xuICAgIHJldHVybiBzc29PaWRjQ2xpZW50LnNlbmQobmV3IENyZWF0ZVRva2VuQ29tbWFuZCh7XG4gICAgICAgIGNsaWVudElkOiBzc29Ub2tlbi5jbGllbnRJZCxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBzc29Ub2tlbi5jbGllbnRTZWNyZXQsXG4gICAgICAgIHJlZnJlc2hUb2tlbjogc3NvVG9rZW4ucmVmcmVzaFRva2VuLFxuICAgICAgICBncmFudFR5cGU6IFwicmVmcmVzaF90b2tlblwiLFxuICAgIH0pKTtcbn07XG4iLCJpbXBvcnQgeyBUb2tlblByb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgUkVGUkVTSF9NRVNTQUdFIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVUb2tlbkV4cGlyeSA9ICh0b2tlbikgPT4ge1xuICAgIGlmICh0b2tlbi5leHBpcmF0aW9uICYmIHRva2VuLmV4cGlyYXRpb24uZ2V0VGltZSgpIDwgRGF0ZS5ub3coKSkge1xuICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBUb2tlbiBpcyBleHBpcmVkLiAke1JFRlJFU0hfTUVTU0FHRX1gLCBmYWxzZSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IFRva2VuUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBSRUZSRVNIX01FU1NBR0UgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVRva2VuS2V5ID0gKGtleSwgdmFsdWUsIGZvclJlZnJlc2ggPSBmYWxzZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRva2VuUHJvdmlkZXJFcnJvcihgVmFsdWUgbm90IHByZXNlbnQgZm9yICcke2tleX0nIGluIFNTTyBUb2tlbiR7Zm9yUmVmcmVzaCA/IFwiLiBDYW5ub3QgcmVmcmVzaFwiIDogXCJcIn0uICR7UkVGUkVTSF9NRVNTQUdFfWAsIGZhbHNlKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZ2V0U1NPVG9rZW5GaWxlcGF0aCB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzUHJvbWlzZXMgfSBmcm9tIFwiZnNcIjtcbmNvbnN0IHsgd3JpdGVGaWxlIH0gPSBmc1Byb21pc2VzO1xuZXhwb3J0IGNvbnN0IHdyaXRlU1NPVG9rZW5Ub0ZpbGUgPSAoaWQsIHNzb1Rva2VuKSA9PiB7XG4gICAgY29uc3QgdG9rZW5GaWxlcGF0aCA9IGdldFNTT1Rva2VuRmlsZXBhdGgoaWQpO1xuICAgIGNvbnN0IHRva2VuU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoc3NvVG9rZW4sIG51bGwsIDIpO1xuICAgIHJldHVybiB3cml0ZUZpbGUodG9rZW5GaWxlcGF0aCwgdG9rZW5TdHJpbmcpO1xufTtcbiIsImltcG9ydCB7IFRva2VuUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRQcm9maWxlTmFtZSwgZ2V0U1NPVG9rZW5Gcm9tRmlsZSwgbG9hZFNzb1Nlc3Npb25EYXRhLCBwYXJzZUtub3duRmlsZXMsIH0gZnJvbSBcIkBzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlclwiO1xuaW1wb3J0IHsgRVhQSVJFX1dJTkRPV19NUywgUkVGUkVTSF9NRVNTQUdFIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXROZXdTc29PaWRjVG9rZW4gfSBmcm9tIFwiLi9nZXROZXdTc29PaWRjVG9rZW5cIjtcbmltcG9ydCB7IHZhbGlkYXRlVG9rZW5FeHBpcnkgfSBmcm9tIFwiLi92YWxpZGF0ZVRva2VuRXhwaXJ5XCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVRva2VuS2V5IH0gZnJvbSBcIi4vdmFsaWRhdGVUb2tlbktleVwiO1xuaW1wb3J0IHsgd3JpdGVTU09Ub2tlblRvRmlsZSB9IGZyb20gXCIuL3dyaXRlU1NPVG9rZW5Ub0ZpbGVcIjtcbmNvbnN0IGxhc3RSZWZyZXNoQXR0ZW1wdFRpbWUgPSBuZXcgRGF0ZSgwKTtcbmV4cG9ydCBjb25zdCBmcm9tU3NvID0gKGluaXQgPSB7fSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgIGluaXQubG9nZ2VyPy5kZWJ1ZyhcIkBhd3Mtc2RrL3Rva2VuLXByb3ZpZGVyc1wiLCBcImZyb21Tc29cIik7XG4gICAgY29uc3QgcHJvZmlsZXMgPSBhd2FpdCBwYXJzZUtub3duRmlsZXMoaW5pdCk7XG4gICAgY29uc3QgcHJvZmlsZU5hbWUgPSBnZXRQcm9maWxlTmFtZShpbml0KTtcbiAgICBjb25zdCBwcm9maWxlID0gcHJvZmlsZXNbcHJvZmlsZU5hbWVdO1xuICAgIGlmICghcHJvZmlsZSkge1xuICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBQcm9maWxlICcke3Byb2ZpbGVOYW1lfScgY291bGQgbm90IGJlIGZvdW5kIGluIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlLmAsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXByb2ZpbGVbXCJzc29fc2Vzc2lvblwiXSkge1xuICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBQcm9maWxlICcke3Byb2ZpbGVOYW1lfScgaXMgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAnc3NvX3Nlc3Npb24nLmApO1xuICAgIH1cbiAgICBjb25zdCBzc29TZXNzaW9uTmFtZSA9IHByb2ZpbGVbXCJzc29fc2Vzc2lvblwiXTtcbiAgICBjb25zdCBzc29TZXNzaW9ucyA9IGF3YWl0IGxvYWRTc29TZXNzaW9uRGF0YShpbml0KTtcbiAgICBjb25zdCBzc29TZXNzaW9uID0gc3NvU2Vzc2lvbnNbc3NvU2Vzc2lvbk5hbWVdO1xuICAgIGlmICghc3NvU2Vzc2lvbikge1xuICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBTc28gc2Vzc2lvbiAnJHtzc29TZXNzaW9uTmFtZX0nIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiBzaGFyZWQgY3JlZGVudGlhbHMgZmlsZS5gLCBmYWxzZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qgc3NvU2Vzc2lvblJlcXVpcmVkS2V5IG9mIFtcInNzb19zdGFydF91cmxcIiwgXCJzc29fcmVnaW9uXCJdKSB7XG4gICAgICAgIGlmICghc3NvU2Vzc2lvbltzc29TZXNzaW9uUmVxdWlyZWRLZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBTc28gc2Vzc2lvbiAnJHtzc29TZXNzaW9uTmFtZX0nIGlzIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgJyR7c3NvU2Vzc2lvblJlcXVpcmVkS2V5fScuYCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNzb1N0YXJ0VXJsID0gc3NvU2Vzc2lvbltcInNzb19zdGFydF91cmxcIl07XG4gICAgY29uc3Qgc3NvUmVnaW9uID0gc3NvU2Vzc2lvbltcInNzb19yZWdpb25cIl07XG4gICAgbGV0IHNzb1Rva2VuO1xuICAgIHRyeSB7XG4gICAgICAgIHNzb1Rva2VuID0gYXdhaXQgZ2V0U1NPVG9rZW5Gcm9tRmlsZShzc29TZXNzaW9uTmFtZSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFRoZSBTU08gc2Vzc2lvbiB0b2tlbiBhc3NvY2lhdGVkIHdpdGggcHJvZmlsZT0ke3Byb2ZpbGVOYW1lfSB3YXMgbm90IGZvdW5kIG9yIGlzIGludmFsaWQuICR7UkVGUkVTSF9NRVNTQUdFfWAsIGZhbHNlKTtcbiAgICB9XG4gICAgdmFsaWRhdGVUb2tlbktleShcImFjY2Vzc1Rva2VuXCIsIHNzb1Rva2VuLmFjY2Vzc1Rva2VuKTtcbiAgICB2YWxpZGF0ZVRva2VuS2V5KFwiZXhwaXJlc0F0XCIsIHNzb1Rva2VuLmV4cGlyZXNBdCk7XG4gICAgY29uc3QgeyBhY2Nlc3NUb2tlbiwgZXhwaXJlc0F0IH0gPSBzc29Ub2tlbjtcbiAgICBjb25zdCBleGlzdGluZ1Rva2VuID0geyB0b2tlbjogYWNjZXNzVG9rZW4sIGV4cGlyYXRpb246IG5ldyBEYXRlKGV4cGlyZXNBdCkgfTtcbiAgICBpZiAoZXhpc3RpbmdUb2tlbi5leHBpcmF0aW9uLmdldFRpbWUoKSAtIERhdGUubm93KCkgPiBFWFBJUkVfV0lORE9XX01TKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1Rva2VuO1xuICAgIH1cbiAgICBpZiAoRGF0ZS5ub3coKSAtIGxhc3RSZWZyZXNoQXR0ZW1wdFRpbWUuZ2V0VGltZSgpIDwgMzAgKiAxMDAwKSB7XG4gICAgICAgIHZhbGlkYXRlVG9rZW5FeHBpcnkoZXhpc3RpbmdUb2tlbik7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1Rva2VuO1xuICAgIH1cbiAgICB2YWxpZGF0ZVRva2VuS2V5KFwiY2xpZW50SWRcIiwgc3NvVG9rZW4uY2xpZW50SWQsIHRydWUpO1xuICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJjbGllbnRTZWNyZXRcIiwgc3NvVG9rZW4uY2xpZW50U2VjcmV0LCB0cnVlKTtcbiAgICB2YWxpZGF0ZVRva2VuS2V5KFwicmVmcmVzaFRva2VuXCIsIHNzb1Rva2VuLnJlZnJlc2hUb2tlbiwgdHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgbGFzdFJlZnJlc2hBdHRlbXB0VGltZS5zZXRUaW1lKERhdGUubm93KCkpO1xuICAgICAgICBjb25zdCBuZXdTc29PaWRjVG9rZW4gPSBhd2FpdCBnZXROZXdTc29PaWRjVG9rZW4oc3NvVG9rZW4sIHNzb1JlZ2lvbik7XG4gICAgICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJhY2Nlc3NUb2tlblwiLCBuZXdTc29PaWRjVG9rZW4uYWNjZXNzVG9rZW4pO1xuICAgICAgICB2YWxpZGF0ZVRva2VuS2V5KFwiZXhwaXJlc0luXCIsIG5ld1Nzb09pZGNUb2tlbi5leHBpcmVzSW4pO1xuICAgICAgICBjb25zdCBuZXdUb2tlbkV4cGlyYXRpb24gPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgbmV3U3NvT2lkY1Rva2VuLmV4cGlyZXNJbiAqIDEwMDApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgd3JpdGVTU09Ub2tlblRvRmlsZShzc29TZXNzaW9uTmFtZSwge1xuICAgICAgICAgICAgICAgIC4uLnNzb1Rva2VuLFxuICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBuZXdTc29PaWRjVG9rZW4uYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICAgICAgZXhwaXJlc0F0OiBuZXdUb2tlbkV4cGlyYXRpb24udG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IG5ld1Nzb09pZGNUb2tlbi5yZWZyZXNoVG9rZW4sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW46IG5ld1Nzb09pZGNUb2tlbi5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGV4cGlyYXRpb246IG5ld1Rva2VuRXhwaXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHZhbGlkYXRlVG9rZW5FeHBpcnkoZXhpc3RpbmdUb2tlbik7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1Rva2VuO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBmcm9tU3NvIGFzIGdldFNzb1Rva2VuUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzXCI7XG5pbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgZ2V0U1NPVG9rZW5Gcm9tRmlsZSB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmNvbnN0IFNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4gPSBmYWxzZTtcbmV4cG9ydCBjb25zdCByZXNvbHZlU1NPQ3JlZGVudGlhbHMgPSBhc3luYyAoeyBzc29TdGFydFVybCwgc3NvU2Vzc2lvbiwgc3NvQWNjb3VudElkLCBzc29SZWdpb24sIHNzb1JvbGVOYW1lLCBzc29DbGllbnQsIGNsaWVudENvbmZpZywgcHJvZmlsZSwgfSkgPT4ge1xuICAgIGxldCB0b2tlbjtcbiAgICBjb25zdCByZWZyZXNoTWVzc2FnZSA9IGBUbyByZWZyZXNoIHRoaXMgU1NPIHNlc3Npb24gcnVuIGF3cyBzc28gbG9naW4gd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9maWxlLmA7XG4gICAgaWYgKHNzb1Nlc3Npb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IF90b2tlbiA9IGF3YWl0IGdldFNzb1Rva2VuUHJvdmlkZXIoeyBwcm9maWxlIH0pKCk7XG4gICAgICAgICAgICB0b2tlbiA9IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogX3Rva2VuLnRva2VuLFxuICAgICAgICAgICAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoX3Rva2VuLmV4cGlyYXRpb24pLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGUubWVzc2FnZSwgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0b2tlbiA9IGF3YWl0IGdldFNTT1Rva2VuRnJvbUZpbGUoc3NvU3RhcnRVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBUaGUgU1NPIHNlc3Npb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgcHJvZmlsZSBpcyBpbnZhbGlkLiAke3JlZnJlc2hNZXNzYWdlfWAsIFNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChuZXcgRGF0ZSh0b2tlbi5leHBpcmVzQXQpLmdldFRpbWUoKSAtIERhdGUubm93KCkgPD0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBUaGUgU1NPIHNlc3Npb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgcHJvZmlsZSBoYXMgZXhwaXJlZC4gJHtyZWZyZXNoTWVzc2FnZX1gLCBTSE9VTERfRkFJTF9DUkVERU5USUFMX0NIQUlOKTtcbiAgICB9XG4gICAgY29uc3QgeyBhY2Nlc3NUb2tlbiB9ID0gdG9rZW47XG4gICAgY29uc3QgeyBTU09DbGllbnQsIEdldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQgfSA9IGF3YWl0IGltcG9ydChcIi4vbG9hZFNzb1wiKTtcbiAgICBjb25zdCBzc28gPSBzc29DbGllbnQgfHxcbiAgICAgICAgbmV3IFNTT0NsaWVudChPYmplY3QuYXNzaWduKHt9LCBjbGllbnRDb25maWcgPz8ge30sIHtcbiAgICAgICAgICAgIHJlZ2lvbjogY2xpZW50Q29uZmlnPy5yZWdpb24gPz8gc3NvUmVnaW9uLFxuICAgICAgICB9KSk7XG4gICAgbGV0IHNzb1Jlc3A7XG4gICAgdHJ5IHtcbiAgICAgICAgc3NvUmVzcCA9IGF3YWl0IHNzby5zZW5kKG5ldyBHZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kKHtcbiAgICAgICAgICAgIGFjY291bnRJZDogc3NvQWNjb3VudElkLFxuICAgICAgICAgICAgcm9sZU5hbWU6IHNzb1JvbGVOYW1lLFxuICAgICAgICAgICAgYWNjZXNzVG9rZW4sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yLmZyb20oZSwgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTik7XG4gICAgfVxuICAgIGNvbnN0IHsgcm9sZUNyZWRlbnRpYWxzOiB7IGFjY2Vzc0tleUlkLCBzZWNyZXRBY2Nlc3NLZXksIHNlc3Npb25Ub2tlbiwgZXhwaXJhdGlvbiwgY3JlZGVudGlhbFNjb3BlIH0gPSB7fSB9ID0gc3NvUmVzcDtcbiAgICBpZiAoIWFjY2Vzc0tleUlkIHx8ICFzZWNyZXRBY2Nlc3NLZXkgfHwgIXNlc3Npb25Ub2tlbiB8fCAhZXhwaXJhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiU1NPIHJldHVybnMgYW4gaW52YWxpZCB0ZW1wb3JhcnkgY3JlZGVudGlhbC5cIiwgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTik7XG4gICAgfVxuICAgIHJldHVybiB7IGFjY2Vzc0tleUlkLCBzZWNyZXRBY2Nlc3NLZXksIHNlc3Npb25Ub2tlbiwgZXhwaXJhdGlvbjogbmV3IERhdGUoZXhwaXJhdGlvbiksIGNyZWRlbnRpYWxTY29wZSB9O1xufTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVTc29Qcm9maWxlID0gKHByb2ZpbGUpID0+IHtcbiAgICBjb25zdCB7IHNzb19zdGFydF91cmwsIHNzb19hY2NvdW50X2lkLCBzc29fcmVnaW9uLCBzc29fcm9sZV9uYW1lIH0gPSBwcm9maWxlO1xuICAgIGlmICghc3NvX3N0YXJ0X3VybCB8fCAhc3NvX2FjY291bnRfaWQgfHwgIXNzb19yZWdpb24gfHwgIXNzb19yb2xlX25hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSBpcyBjb25maWd1cmVkIHdpdGggaW52YWxpZCBTU08gY3JlZGVudGlhbHMuIFJlcXVpcmVkIHBhcmFtZXRlcnMgXCJzc29fYWNjb3VudF9pZFwiLCBgICtcbiAgICAgICAgICAgIGBcInNzb19yZWdpb25cIiwgXCJzc29fcm9sZV9uYW1lXCIsIFwic3NvX3N0YXJ0X3VybFwiLiBHb3QgJHtPYmplY3Qua2V5cyhwcm9maWxlKS5qb2luKFwiLCBcIil9XFxuUmVmZXJlbmNlOiBodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vY2xpL2xhdGVzdC91c2VyZ3VpZGUvY2xpLWNvbmZpZ3VyZS1zc28uaHRtbGAsIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb2ZpbGU7XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGdldFByb2ZpbGVOYW1lLCBsb2FkU3NvU2Vzc2lvbkRhdGEsIHBhcnNlS25vd25GaWxlcyB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IGlzU3NvUHJvZmlsZSB9IGZyb20gXCIuL2lzU3NvUHJvZmlsZVwiO1xuaW1wb3J0IHsgcmVzb2x2ZVNTT0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZVNTT0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVNzb1Byb2ZpbGUgfSBmcm9tIFwiLi92YWxpZGF0ZVNzb1Byb2ZpbGVcIjtcbmV4cG9ydCBjb25zdCBmcm9tU1NPID0gKGluaXQgPSB7fSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgIGluaXQubG9nZ2VyPy5kZWJ1ZyhcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItc3NvXCIsIFwiZnJvbVNTT1wiKTtcbiAgICBjb25zdCB7IHNzb1N0YXJ0VXJsLCBzc29BY2NvdW50SWQsIHNzb1JlZ2lvbiwgc3NvUm9sZU5hbWUsIHNzb1Nlc3Npb24gfSA9IGluaXQ7XG4gICAgY29uc3QgeyBzc29DbGllbnQgfSA9IGluaXQ7XG4gICAgY29uc3QgcHJvZmlsZU5hbWUgPSBnZXRQcm9maWxlTmFtZShpbml0KTtcbiAgICBpZiAoIXNzb1N0YXJ0VXJsICYmICFzc29BY2NvdW50SWQgJiYgIXNzb1JlZ2lvbiAmJiAhc3NvUm9sZU5hbWUgJiYgIXNzb1Nlc3Npb24pIHtcbiAgICAgICAgY29uc3QgcHJvZmlsZXMgPSBhd2FpdCBwYXJzZUtub3duRmlsZXMoaW5pdCk7XG4gICAgICAgIGNvbnN0IHByb2ZpbGUgPSBwcm9maWxlc1twcm9maWxlTmFtZV07XG4gICAgICAgIGlmICghcHJvZmlsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSB3YXMgbm90IGZvdW5kLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNTc29Qcm9maWxlKHByb2ZpbGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IGlzIG5vdCBjb25maWd1cmVkIHdpdGggU1NPIGNyZWRlbnRpYWxzLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9maWxlPy5zc29fc2Vzc2lvbikge1xuICAgICAgICAgICAgY29uc3Qgc3NvU2Vzc2lvbnMgPSBhd2FpdCBsb2FkU3NvU2Vzc2lvbkRhdGEoaW5pdCk7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gc3NvU2Vzc2lvbnNbcHJvZmlsZS5zc29fc2Vzc2lvbl07XG4gICAgICAgICAgICBjb25zdCBjb25mbGljdE1zZyA9IGAgY29uZmlndXJhdGlvbnMgaW4gcHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBhbmQgc3NvLXNlc3Npb24gJHtwcm9maWxlLnNzb19zZXNzaW9ufWA7XG4gICAgICAgICAgICBpZiAoc3NvUmVnaW9uICYmIHNzb1JlZ2lvbiAhPT0gc2Vzc2lvbi5zc29fcmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgQ29uZmxpY3RpbmcgU1NPIHJlZ2lvbmAgKyBjb25mbGljdE1zZywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNzb1N0YXJ0VXJsICYmIHNzb1N0YXJ0VXJsICE9PSBzZXNzaW9uLnNzb19zdGFydF91cmwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBDb25mbGljdGluZyBTU08gc3RhcnRfdXJsYCArIGNvbmZsaWN0TXNnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9maWxlLnNzb19yZWdpb24gPSBzZXNzaW9uLnNzb19yZWdpb247XG4gICAgICAgICAgICBwcm9maWxlLnNzb19zdGFydF91cmwgPSBzZXNzaW9uLnNzb19zdGFydF91cmw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzc29fc3RhcnRfdXJsLCBzc29fYWNjb3VudF9pZCwgc3NvX3JlZ2lvbiwgc3NvX3JvbGVfbmFtZSwgc3NvX3Nlc3Npb24gfSA9IHZhbGlkYXRlU3NvUHJvZmlsZShwcm9maWxlKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTU09DcmVkZW50aWFscyh7XG4gICAgICAgICAgICBzc29TdGFydFVybDogc3NvX3N0YXJ0X3VybCxcbiAgICAgICAgICAgIHNzb1Nlc3Npb246IHNzb19zZXNzaW9uLFxuICAgICAgICAgICAgc3NvQWNjb3VudElkOiBzc29fYWNjb3VudF9pZCxcbiAgICAgICAgICAgIHNzb1JlZ2lvbjogc3NvX3JlZ2lvbixcbiAgICAgICAgICAgIHNzb1JvbGVOYW1lOiBzc29fcm9sZV9uYW1lLFxuICAgICAgICAgICAgc3NvQ2xpZW50OiBzc29DbGllbnQsXG4gICAgICAgICAgICBjbGllbnRDb25maWc6IGluaXQuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgcHJvZmlsZTogcHJvZmlsZU5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmICghc3NvU3RhcnRVcmwgfHwgIXNzb0FjY291bnRJZCB8fCAhc3NvUmVnaW9uIHx8ICFzc29Sb2xlTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiSW5jb21wbGV0ZSBjb25maWd1cmF0aW9uLiBUaGUgZnJvbVNTTygpIGFyZ3VtZW50IGhhc2ggbXVzdCBpbmNsdWRlIFwiICtcbiAgICAgICAgICAgICdcInNzb1N0YXJ0VXJsXCIsIFwic3NvQWNjb3VudElkXCIsIFwic3NvUmVnaW9uXCIsIFwic3NvUm9sZU5hbWVcIicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTU09DcmVkZW50aWFscyh7XG4gICAgICAgICAgICBzc29TdGFydFVybCxcbiAgICAgICAgICAgIHNzb1Nlc3Npb24sXG4gICAgICAgICAgICBzc29BY2NvdW50SWQsXG4gICAgICAgICAgICBzc29SZWdpb24sXG4gICAgICAgICAgICBzc29Sb2xlTmFtZSxcbiAgICAgICAgICAgIHNzb0NsaWVudCxcbiAgICAgICAgICAgIGNsaWVudENvbmZpZzogaW5pdC5jbGllbnRDb25maWcsXG4gICAgICAgICAgICBwcm9maWxlOiBwcm9maWxlTmFtZSxcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbiIsImV4cG9ydCAqIGZyb20gXCIuL2Zyb21TU09cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2lzU3NvUHJvZmlsZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3ZhbGlkYXRlU3NvUHJvZmlsZVwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5809\n')}};
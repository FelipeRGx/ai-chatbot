"use strict";exports.id=157,exports.ids=[157],exports.modules={4157:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  fromIni: () => (/* reexport */ fromIni)\n});\n\n// EXTERNAL MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@smithy/shared-ini-file-loader/dist-es/index.js + 14 modules\nvar dist_es = __webpack_require__(7380);\n// EXTERNAL MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@smithy/property-provider/dist-es/CredentialsProviderError.js\nvar CredentialsProviderError = __webpack_require__(2834);\n// EXTERNAL MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@smithy/property-provider/dist-es/chain.js\nvar chain = __webpack_require__(7003);\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/credential-provider-ini/dist-es/resolveCredentialSource.js\n\nconst resolveCredentialSource = (credentialSource, profileName, logger) => {\n    const sourceProvidersMap = {\n        EcsContainer: async (options) => {\n            const { fromHttp } = await __webpack_require__.e(/* import() */ 360).then(__webpack_require__.bind(__webpack_require__, 3360));\n            const { fromContainerMetadata } = await __webpack_require__.e(/* import() */ 296).then(__webpack_require__.bind(__webpack_require__, 4296));\n            logger?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer");\n            return (0,chain/* chain */.t)(fromHttp(options ?? {}), fromContainerMetadata(options));\n        },\n        Ec2InstanceMetadata: async (options) => {\n            logger?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");\n            const { fromInstanceMetadata } = await __webpack_require__.e(/* import() */ 296).then(__webpack_require__.bind(__webpack_require__, 4296));\n            return fromInstanceMetadata(options);\n        },\n        Environment: async (options) => {\n            logger?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");\n            const { fromEnv } = await __webpack_require__.e(/* import() */ 490).then(__webpack_require__.bind(__webpack_require__, 6490));\n            return fromEnv(options);\n        },\n    };\n    if (credentialSource in sourceProvidersMap) {\n        return sourceProvidersMap[credentialSource];\n    }\n    else {\n        throw new CredentialsProviderError/* CredentialsProviderError */.m(`Unsupported credential source in profile ${profileName}. Got ${credentialSource}, ` +\n            `expected EcsContainer or Ec2InstanceMetadata or Environment.`, { logger });\n    }\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/credential-provider-ini/dist-es/resolveAssumeRoleCredentials.js\n\n\n\n\nconst isAssumeRoleProfile = (arg, { profile = "default", logger } = {}) => {\n    return (Boolean(arg) &&\n        typeof arg === "object" &&\n        typeof arg.role_arn === "string" &&\n        ["undefined", "string"].indexOf(typeof arg.role_session_name) > -1 &&\n        ["undefined", "string"].indexOf(typeof arg.external_id) > -1 &&\n        ["undefined", "string"].indexOf(typeof arg.mfa_serial) > -1 &&\n        (isAssumeRoleWithSourceProfile(arg, { profile, logger }) || isCredentialSourceProfile(arg, { profile, logger })));\n};\nconst isAssumeRoleWithSourceProfile = (arg, { profile, logger }) => {\n    const withSourceProfile = typeof arg.source_profile === "string" && typeof arg.credential_source === "undefined";\n    if (withSourceProfile) {\n        logger?.debug?.(`    ${profile} isAssumeRoleWithSourceProfile source_profile=${arg.source_profile}`);\n    }\n    return withSourceProfile;\n};\nconst isCredentialSourceProfile = (arg, { profile, logger }) => {\n    const withProviderProfile = typeof arg.credential_source === "string" && typeof arg.source_profile === "undefined";\n    if (withProviderProfile) {\n        logger?.debug?.(`    ${profile} isCredentialSourceProfile credential_source=${arg.credential_source}`);\n    }\n    return withProviderProfile;\n};\nconst resolveAssumeRoleCredentials = async (profileName, profiles, options, visitedProfiles = {}) => {\n    options.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");\n    const data = profiles[profileName];\n    if (!options.roleAssumer) {\n        const { getDefaultRoleAssumer } = await __webpack_require__.e(/* import() */ 528).then(__webpack_require__.bind(__webpack_require__, 5528));\n        options.roleAssumer = getDefaultRoleAssumer({\n            ...options.clientConfig,\n            credentialProviderLogger: options.logger,\n            parentClientConfig: options?.parentClientConfig,\n        }, options.clientPlugins);\n    }\n    const { source_profile } = data;\n    if (source_profile && source_profile in visitedProfiles) {\n        throw new CredentialsProviderError/* CredentialsProviderError */.m(`Detected a cycle attempting to resolve credentials for profile` +\n            ` ${(0,dist_es/* getProfileName */.Jl)(options)}. Profiles visited: ` +\n            Object.keys(visitedProfiles).join(", "), { logger: options.logger });\n    }\n    options.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${source_profile ? `source_profile=[${source_profile}]` : `profile=[${profileName}]`}`);\n    const sourceCredsProvider = source_profile\n        ? resolveProfileData(source_profile, {\n            ...profiles,\n            [source_profile]: {\n                ...profiles[source_profile],\n                role_arn: data.role_arn ?? profiles[source_profile].role_arn,\n            },\n        }, options, {\n            ...visitedProfiles,\n            [source_profile]: true,\n        })\n        : (await resolveCredentialSource(data.credential_source, profileName, options.logger)(options))();\n    const params = {\n        RoleArn: data.role_arn,\n        RoleSessionName: data.role_session_name || `aws-sdk-js-${Date.now()}`,\n        ExternalId: data.external_id,\n        DurationSeconds: parseInt(data.duration_seconds || "3600", 10),\n    };\n    const { mfa_serial } = data;\n    if (mfa_serial) {\n        if (!options.mfaCodeProvider) {\n            throw new CredentialsProviderError/* CredentialsProviderError */.m(`Profile ${profileName} requires multi-factor authentication, but no MFA code callback was provided.`, { logger: options.logger, tryNextLink: false });\n        }\n        params.SerialNumber = mfa_serial;\n        params.TokenCode = await options.mfaCodeProvider(mfa_serial);\n    }\n    const sourceCreds = await sourceCredsProvider;\n    return options.roleAssumer(sourceCreds, params);\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/credential-provider-ini/dist-es/resolveProcessCredentials.js\nconst isProcessProfile = (arg) => Boolean(arg) && typeof arg === "object" && typeof arg.credential_process === "string";\nconst resolveProcessCredentials = async (options, profile) => __webpack_require__.e(/* import() */ 826).then(__webpack_require__.bind(__webpack_require__, 826)).then(({ fromProcess }) => fromProcess({\n    ...options,\n    profile,\n})());\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/credential-provider-ini/dist-es/resolveSsoCredentials.js\nconst resolveSsoCredentials = async (profile, options = {}) => {\n    const { fromSSO } = await __webpack_require__.e(/* import() */ 211).then(__webpack_require__.bind(__webpack_require__, 3211));\n    return fromSSO({\n        profile,\n        logger: options.logger,\n    })();\n};\nconst isSsoProfile = (arg) => arg &&\n    (typeof arg.sso_start_url === "string" ||\n        typeof arg.sso_account_id === "string" ||\n        typeof arg.sso_session === "string" ||\n        typeof arg.sso_region === "string" ||\n        typeof arg.sso_role_name === "string");\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/credential-provider-ini/dist-es/resolveStaticCredentials.js\nconst isStaticCredsProfile = (arg) => Boolean(arg) &&\n    typeof arg === "object" &&\n    typeof arg.aws_access_key_id === "string" &&\n    typeof arg.aws_secret_access_key === "string" &&\n    ["undefined", "string"].indexOf(typeof arg.aws_session_token) > -1 &&\n    ["undefined", "string"].indexOf(typeof arg.aws_account_id) > -1;\nconst resolveStaticCredentials = (profile, options) => {\n    options?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");\n    return Promise.resolve({\n        accessKeyId: profile.aws_access_key_id,\n        secretAccessKey: profile.aws_secret_access_key,\n        sessionToken: profile.aws_session_token,\n        ...(profile.aws_credential_scope && { credentialScope: profile.aws_credential_scope }),\n        ...(profile.aws_account_id && { accountId: profile.aws_account_id }),\n    });\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/credential-provider-ini/dist-es/resolveWebIdentityCredentials.js\nconst isWebIdentityProfile = (arg) => Boolean(arg) &&\n    typeof arg === "object" &&\n    typeof arg.web_identity_token_file === "string" &&\n    typeof arg.role_arn === "string" &&\n    ["undefined", "string"].indexOf(typeof arg.role_session_name) > -1;\nconst resolveWebIdentityCredentials = async (profile, options) => __webpack_require__.e(/* import() */ 899).then(__webpack_require__.bind(__webpack_require__, 6899)).then(({ fromTokenFile }) => fromTokenFile({\n    webIdentityTokenFile: profile.web_identity_token_file,\n    roleArn: profile.role_arn,\n    roleSessionName: profile.role_session_name,\n    roleAssumerWithWebIdentity: options.roleAssumerWithWebIdentity,\n    logger: options.logger,\n    parentClientConfig: options.parentClientConfig,\n})());\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/credential-provider-ini/dist-es/resolveProfileData.js\n\n\n\n\n\n\nconst resolveProfileData = async (profileName, profiles, options, visitedProfiles = {}) => {\n    const data = profiles[profileName];\n    if (Object.keys(visitedProfiles).length > 0 && isStaticCredsProfile(data)) {\n        return resolveStaticCredentials(data, options);\n    }\n    if (isAssumeRoleProfile(data, { profile: profileName, logger: options.logger })) {\n        return resolveAssumeRoleCredentials(profileName, profiles, options, visitedProfiles);\n    }\n    if (isStaticCredsProfile(data)) {\n        return resolveStaticCredentials(data, options);\n    }\n    if (isWebIdentityProfile(data)) {\n        return resolveWebIdentityCredentials(data, options);\n    }\n    if (isProcessProfile(data)) {\n        return resolveProcessCredentials(options, profileName);\n    }\n    if (isSsoProfile(data)) {\n        return await resolveSsoCredentials(profileName, options);\n    }\n    throw new CredentialsProviderError/* CredentialsProviderError */.m(`Could not resolve credentials using profile: [${profileName}] in configuration/credentials file(s).`, { logger: options.logger });\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/credential-provider-ini/dist-es/fromIni.js\n\n\nconst fromIni = (init = {}) => async () => {\n    init.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");\n    const profiles = await (0,dist_es/* parseKnownFiles */.MX)(init);\n    return resolveProfileData((0,dist_es/* getProfileName */.Jl)(init), profiles, init);\n};\n\n;// CONCATENATED MODULE: ../../node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/credential-provider-ini/dist-es/index.js\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZO0FBQ3BCLHFCQUFxQixxQkFBcUI7QUFDMUM7QUFDQSxjQUFjLHdEQUF3QixrREFBa0QsWUFBWSw0Q0FBNEMsd0JBQXdCO0FBQ3hLOzs7QUMzQmlGO0FBQ3ZCO0FBQ25ELDBCQUEwQjtBQUNqQztBQUNBLDJCQUEyQixtQ0FBZTtBQUMxQyxXQUFXLGtCQUFrQixDQUFDLGtDQUFjO0FBQzVDOzs7QUNOMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXMzL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL3Jlc29sdmVDcmVkZW50aWFsU291cmNlLmpzPzNhMGMiLCJ3ZWJwYWNrOi8vaW5kZXgvLi4vLi4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zMy9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzLmpzPzU1MzYiLCJ3ZWJwYWNrOi8vaW5kZXgvLi4vLi4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zMy9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzLmpzP2VmOWEiLCJ3ZWJwYWNrOi8vaW5kZXgvLi4vLi4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zMy9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlU3NvQ3JlZGVudGlhbHMuanM/NTBkZiIsIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXMzL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL3Jlc29sdmVTdGF0aWNDcmVkZW50aWFscy5qcz8zZTkwIiwid2VicGFjazovL2luZGV4Ly4uLy4uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtczMvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvcmVzb2x2ZVdlYklkZW50aXR5Q3JlZGVudGlhbHMuanM/NDA3ZSIsIndlYnBhY2s6Ly9pbmRleC8uLi8uLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXMzL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL3Jlc29sdmVQcm9maWxlRGF0YS5qcz81NDhiIiwid2VicGFjazovL2luZGV4Ly4uLy4uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtczMvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvZnJvbUluaS5qcz82ZTgwIiwid2VicGFjazovL2luZGV4Ly4uLy4uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtczMvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvaW5kZXguanM/MjI2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGFpbiwgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlQ3JlZGVudGlhbFNvdXJjZSA9IChjcmVkZW50aWFsU291cmNlLCBwcm9maWxlTmFtZSwgbG9nZ2VyKSA9PiB7XG4gICAgY29uc3Qgc291cmNlUHJvdmlkZXJzTWFwID0ge1xuICAgICAgICBFY3NDb250YWluZXI6IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGZyb21IdHRwIH0gPSBhd2FpdCBpbXBvcnQoXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWh0dHBcIik7XG4gICAgICAgICAgICBjb25zdCB7IGZyb21Db250YWluZXJNZXRhZGF0YSB9ID0gYXdhaXQgaW1wb3J0KFwiQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHNcIik7XG4gICAgICAgICAgICBsb2dnZXI/LmRlYnVnKFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkgLSBjcmVkZW50aWFsX3NvdXJjZSBpcyBFY3NDb250YWluZXJcIik7XG4gICAgICAgICAgICByZXR1cm4gY2hhaW4oZnJvbUh0dHAob3B0aW9ucyA/PyB7fSksIGZyb21Db250YWluZXJNZXRhZGF0YShvcHRpb25zKSk7XG4gICAgICAgIH0sXG4gICAgICAgIEVjMkluc3RhbmNlTWV0YWRhdGE6IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBsb2dnZXI/LmRlYnVnKFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkgLSBjcmVkZW50aWFsX3NvdXJjZSBpcyBFYzJJbnN0YW5jZU1ldGFkYXRhXCIpO1xuICAgICAgICAgICAgY29uc3QgeyBmcm9tSW5zdGFuY2VNZXRhZGF0YSB9ID0gYXdhaXQgaW1wb3J0KFwiQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHNcIik7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUluc3RhbmNlTWV0YWRhdGEob3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIEVudmlyb25tZW50OiBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZyhcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pIC0gY3JlZGVudGlhbF9zb3VyY2UgaXMgRW52aXJvbm1lbnRcIik7XG4gICAgICAgICAgICBjb25zdCB7IGZyb21FbnYgfSA9IGF3YWl0IGltcG9ydChcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItZW52XCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZyb21FbnYob3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBpZiAoY3JlZGVudGlhbFNvdXJjZSBpbiBzb3VyY2VQcm92aWRlcnNNYXApIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZVByb3ZpZGVyc01hcFtjcmVkZW50aWFsU291cmNlXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFVuc3VwcG9ydGVkIGNyZWRlbnRpYWwgc291cmNlIGluIHByb2ZpbGUgJHtwcm9maWxlTmFtZX0uIEdvdCAke2NyZWRlbnRpYWxTb3VyY2V9LCBgICtcbiAgICAgICAgICAgIGBleHBlY3RlZCBFY3NDb250YWluZXIgb3IgRWMySW5zdGFuY2VNZXRhZGF0YSBvciBFbnZpcm9ubWVudC5gLCB7IGxvZ2dlciB9KTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGdldFByb2ZpbGVOYW1lIH0gZnJvbSBcIkBzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlclwiO1xuaW1wb3J0IHsgcmVzb2x2ZUNyZWRlbnRpYWxTb3VyY2UgfSBmcm9tIFwiLi9yZXNvbHZlQ3JlZGVudGlhbFNvdXJjZVwiO1xuaW1wb3J0IHsgcmVzb2x2ZVByb2ZpbGVEYXRhIH0gZnJvbSBcIi4vcmVzb2x2ZVByb2ZpbGVEYXRhXCI7XG5leHBvcnQgY29uc3QgaXNBc3N1bWVSb2xlUHJvZmlsZSA9IChhcmcsIHsgcHJvZmlsZSA9IFwiZGVmYXVsdFwiLCBsb2dnZXIgfSA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIChCb29sZWFuKGFyZykgJiZcbiAgICAgICAgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICB0eXBlb2YgYXJnLnJvbGVfYXJuID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgIFtcInVuZGVmaW5lZFwiLCBcInN0cmluZ1wiXS5pbmRleE9mKHR5cGVvZiBhcmcucm9sZV9zZXNzaW9uX25hbWUpID4gLTEgJiZcbiAgICAgICAgW1widW5kZWZpbmVkXCIsIFwic3RyaW5nXCJdLmluZGV4T2YodHlwZW9mIGFyZy5leHRlcm5hbF9pZCkgPiAtMSAmJlxuICAgICAgICBbXCJ1bmRlZmluZWRcIiwgXCJzdHJpbmdcIl0uaW5kZXhPZih0eXBlb2YgYXJnLm1mYV9zZXJpYWwpID4gLTEgJiZcbiAgICAgICAgKGlzQXNzdW1lUm9sZVdpdGhTb3VyY2VQcm9maWxlKGFyZywgeyBwcm9maWxlLCBsb2dnZXIgfSkgfHwgaXNDcmVkZW50aWFsU291cmNlUHJvZmlsZShhcmcsIHsgcHJvZmlsZSwgbG9nZ2VyIH0pKSk7XG59O1xuY29uc3QgaXNBc3N1bWVSb2xlV2l0aFNvdXJjZVByb2ZpbGUgPSAoYXJnLCB7IHByb2ZpbGUsIGxvZ2dlciB9KSA9PiB7XG4gICAgY29uc3Qgd2l0aFNvdXJjZVByb2ZpbGUgPSB0eXBlb2YgYXJnLnNvdXJjZV9wcm9maWxlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBhcmcuY3JlZGVudGlhbF9zb3VyY2UgPT09IFwidW5kZWZpbmVkXCI7XG4gICAgaWYgKHdpdGhTb3VyY2VQcm9maWxlKSB7XG4gICAgICAgIGxvZ2dlcj8uZGVidWc/LihgICAgICR7cHJvZmlsZX0gaXNBc3N1bWVSb2xlV2l0aFNvdXJjZVByb2ZpbGUgc291cmNlX3Byb2ZpbGU9JHthcmcuc291cmNlX3Byb2ZpbGV9YCk7XG4gICAgfVxuICAgIHJldHVybiB3aXRoU291cmNlUHJvZmlsZTtcbn07XG5jb25zdCBpc0NyZWRlbnRpYWxTb3VyY2VQcm9maWxlID0gKGFyZywgeyBwcm9maWxlLCBsb2dnZXIgfSkgPT4ge1xuICAgIGNvbnN0IHdpdGhQcm92aWRlclByb2ZpbGUgPSB0eXBlb2YgYXJnLmNyZWRlbnRpYWxfc291cmNlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBhcmcuc291cmNlX3Byb2ZpbGUgPT09IFwidW5kZWZpbmVkXCI7XG4gICAgaWYgKHdpdGhQcm92aWRlclByb2ZpbGUpIHtcbiAgICAgICAgbG9nZ2VyPy5kZWJ1Zz8uKGAgICAgJHtwcm9maWxlfSBpc0NyZWRlbnRpYWxTb3VyY2VQcm9maWxlIGNyZWRlbnRpYWxfc291cmNlPSR7YXJnLmNyZWRlbnRpYWxfc291cmNlfWApO1xuICAgIH1cbiAgICByZXR1cm4gd2l0aFByb3ZpZGVyUHJvZmlsZTtcbn07XG5leHBvcnQgY29uc3QgcmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFscyA9IGFzeW5jIChwcm9maWxlTmFtZSwgcHJvZmlsZXMsIG9wdGlvbnMsIHZpc2l0ZWRQcm9maWxlcyA9IHt9KSA9PiB7XG4gICAgb3B0aW9ucy5sb2dnZXI/LmRlYnVnKFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkgLSByZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzIChTVFMpXCIpO1xuICAgIGNvbnN0IGRhdGEgPSBwcm9maWxlc1twcm9maWxlTmFtZV07XG4gICAgaWYgKCFvcHRpb25zLnJvbGVBc3N1bWVyKSB7XG4gICAgICAgIGNvbnN0IHsgZ2V0RGVmYXVsdFJvbGVBc3N1bWVyIH0gPSBhd2FpdCBpbXBvcnQoXCJAYXdzLXNkay9jbGllbnQtc3RzXCIpO1xuICAgICAgICBvcHRpb25zLnJvbGVBc3N1bWVyID0gZ2V0RGVmYXVsdFJvbGVBc3N1bWVyKHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgY3JlZGVudGlhbFByb3ZpZGVyTG9nZ2VyOiBvcHRpb25zLmxvZ2dlcixcbiAgICAgICAgICAgIHBhcmVudENsaWVudENvbmZpZzogb3B0aW9ucz8ucGFyZW50Q2xpZW50Q29uZmlnLFxuICAgICAgICB9LCBvcHRpb25zLmNsaWVudFBsdWdpbnMpO1xuICAgIH1cbiAgICBjb25zdCB7IHNvdXJjZV9wcm9maWxlIH0gPSBkYXRhO1xuICAgIGlmIChzb3VyY2VfcHJvZmlsZSAmJiBzb3VyY2VfcHJvZmlsZSBpbiB2aXNpdGVkUHJvZmlsZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgRGV0ZWN0ZWQgYSBjeWNsZSBhdHRlbXB0aW5nIHRvIHJlc29sdmUgY3JlZGVudGlhbHMgZm9yIHByb2ZpbGVgICtcbiAgICAgICAgICAgIGAgJHtnZXRQcm9maWxlTmFtZShvcHRpb25zKX0uIFByb2ZpbGVzIHZpc2l0ZWQ6IGAgK1xuICAgICAgICAgICAgT2JqZWN0LmtleXModmlzaXRlZFByb2ZpbGVzKS5qb2luKFwiLCBcIiksIHsgbG9nZ2VyOiBvcHRpb25zLmxvZ2dlciB9KTtcbiAgICB9XG4gICAgb3B0aW9ucy5sb2dnZXI/LmRlYnVnKGBAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaSAtIGZpbmRpbmcgY3JlZGVudGlhbCByZXNvbHZlciB1c2luZyAke3NvdXJjZV9wcm9maWxlID8gYHNvdXJjZV9wcm9maWxlPVske3NvdXJjZV9wcm9maWxlfV1gIDogYHByb2ZpbGU9WyR7cHJvZmlsZU5hbWV9XWB9YCk7XG4gICAgY29uc3Qgc291cmNlQ3JlZHNQcm92aWRlciA9IHNvdXJjZV9wcm9maWxlXG4gICAgICAgID8gcmVzb2x2ZVByb2ZpbGVEYXRhKHNvdXJjZV9wcm9maWxlLCB7XG4gICAgICAgICAgICAuLi5wcm9maWxlcyxcbiAgICAgICAgICAgIFtzb3VyY2VfcHJvZmlsZV06IHtcbiAgICAgICAgICAgICAgICAuLi5wcm9maWxlc1tzb3VyY2VfcHJvZmlsZV0sXG4gICAgICAgICAgICAgICAgcm9sZV9hcm46IGRhdGEucm9sZV9hcm4gPz8gcHJvZmlsZXNbc291cmNlX3Byb2ZpbGVdLnJvbGVfYXJuLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSwgb3B0aW9ucywge1xuICAgICAgICAgICAgLi4udmlzaXRlZFByb2ZpbGVzLFxuICAgICAgICAgICAgW3NvdXJjZV9wcm9maWxlXTogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgICAgOiAoYXdhaXQgcmVzb2x2ZUNyZWRlbnRpYWxTb3VyY2UoZGF0YS5jcmVkZW50aWFsX3NvdXJjZSwgcHJvZmlsZU5hbWUsIG9wdGlvbnMubG9nZ2VyKShvcHRpb25zKSkoKTtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIFJvbGVBcm46IGRhdGEucm9sZV9hcm4sXG4gICAgICAgIFJvbGVTZXNzaW9uTmFtZTogZGF0YS5yb2xlX3Nlc3Npb25fbmFtZSB8fCBgYXdzLXNkay1qcy0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgRXh0ZXJuYWxJZDogZGF0YS5leHRlcm5hbF9pZCxcbiAgICAgICAgRHVyYXRpb25TZWNvbmRzOiBwYXJzZUludChkYXRhLmR1cmF0aW9uX3NlY29uZHMgfHwgXCIzNjAwXCIsIDEwKSxcbiAgICB9O1xuICAgIGNvbnN0IHsgbWZhX3NlcmlhbCB9ID0gZGF0YTtcbiAgICBpZiAobWZhX3NlcmlhbCkge1xuICAgICAgICBpZiAoIW9wdGlvbnMubWZhQ29kZVByb3ZpZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IHJlcXVpcmVzIG11bHRpLWZhY3RvciBhdXRoZW50aWNhdGlvbiwgYnV0IG5vIE1GQSBjb2RlIGNhbGxiYWNrIHdhcyBwcm92aWRlZC5gLCB7IGxvZ2dlcjogb3B0aW9ucy5sb2dnZXIsIHRyeU5leHRMaW5rOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXMuU2VyaWFsTnVtYmVyID0gbWZhX3NlcmlhbDtcbiAgICAgICAgcGFyYW1zLlRva2VuQ29kZSA9IGF3YWl0IG9wdGlvbnMubWZhQ29kZVByb3ZpZGVyKG1mYV9zZXJpYWwpO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2VDcmVkcyA9IGF3YWl0IHNvdXJjZUNyZWRzUHJvdmlkZXI7XG4gICAgcmV0dXJuIG9wdGlvbnMucm9sZUFzc3VtZXIoc291cmNlQ3JlZHMsIHBhcmFtcyk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGlzUHJvY2Vzc1Byb2ZpbGUgPSAoYXJnKSA9PiBCb29sZWFuKGFyZykgJiYgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgYXJnLmNyZWRlbnRpYWxfcHJvY2VzcyA9PT0gXCJzdHJpbmdcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzID0gYXN5bmMgKG9wdGlvbnMsIHByb2ZpbGUpID0+IGltcG9ydChcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItcHJvY2Vzc1wiKS50aGVuKCh7IGZyb21Qcm9jZXNzIH0pID0+IGZyb21Qcm9jZXNzKHtcbiAgICAuLi5vcHRpb25zLFxuICAgIHByb2ZpbGUsXG59KSgpKTtcbiIsImV4cG9ydCBjb25zdCByZXNvbHZlU3NvQ3JlZGVudGlhbHMgPSBhc3luYyAocHJvZmlsZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBmcm9tU1NPIH0gPSBhd2FpdCBpbXBvcnQoXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzb1wiKTtcbiAgICByZXR1cm4gZnJvbVNTTyh7XG4gICAgICAgIHByb2ZpbGUsXG4gICAgICAgIGxvZ2dlcjogb3B0aW9ucy5sb2dnZXIsXG4gICAgfSkoKTtcbn07XG5leHBvcnQgY29uc3QgaXNTc29Qcm9maWxlID0gKGFyZykgPT4gYXJnICYmXG4gICAgKHR5cGVvZiBhcmcuc3NvX3N0YXJ0X3VybCA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICB0eXBlb2YgYXJnLnNzb19hY2NvdW50X2lkID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGVvZiBhcmcuc3NvX3Nlc3Npb24gPT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgdHlwZW9mIGFyZy5zc29fcmVnaW9uID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGVvZiBhcmcuc3NvX3JvbGVfbmFtZSA9PT0gXCJzdHJpbmdcIik7XG4iLCJleHBvcnQgY29uc3QgaXNTdGF0aWNDcmVkc1Byb2ZpbGUgPSAoYXJnKSA9PiBCb29sZWFuKGFyZykgJiZcbiAgICB0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmXG4gICAgdHlwZW9mIGFyZy5hd3NfYWNjZXNzX2tleV9pZCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIHR5cGVvZiBhcmcuYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID09PSBcInN0cmluZ1wiICYmXG4gICAgW1widW5kZWZpbmVkXCIsIFwic3RyaW5nXCJdLmluZGV4T2YodHlwZW9mIGFyZy5hd3Nfc2Vzc2lvbl90b2tlbikgPiAtMSAmJlxuICAgIFtcInVuZGVmaW5lZFwiLCBcInN0cmluZ1wiXS5pbmRleE9mKHR5cGVvZiBhcmcuYXdzX2FjY291bnRfaWQpID4gLTE7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzID0gKHByb2ZpbGUsIG9wdGlvbnMpID0+IHtcbiAgICBvcHRpb25zPy5sb2dnZXI/LmRlYnVnKFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkgLSByZXNvbHZlU3RhdGljQ3JlZGVudGlhbHNcIik7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIGFjY2Vzc0tleUlkOiBwcm9maWxlLmF3c19hY2Nlc3Nfa2V5X2lkLFxuICAgICAgICBzZWNyZXRBY2Nlc3NLZXk6IHByb2ZpbGUuYXdzX3NlY3JldF9hY2Nlc3Nfa2V5LFxuICAgICAgICBzZXNzaW9uVG9rZW46IHByb2ZpbGUuYXdzX3Nlc3Npb25fdG9rZW4sXG4gICAgICAgIC4uLihwcm9maWxlLmF3c19jcmVkZW50aWFsX3Njb3BlICYmIHsgY3JlZGVudGlhbFNjb3BlOiBwcm9maWxlLmF3c19jcmVkZW50aWFsX3Njb3BlIH0pLFxuICAgICAgICAuLi4ocHJvZmlsZS5hd3NfYWNjb3VudF9pZCAmJiB7IGFjY291bnRJZDogcHJvZmlsZS5hd3NfYWNjb3VudF9pZCB9KSxcbiAgICB9KTtcbn07XG4iLCJleHBvcnQgY29uc3QgaXNXZWJJZGVudGl0eVByb2ZpbGUgPSAoYXJnKSA9PiBCb29sZWFuKGFyZykgJiZcbiAgICB0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmXG4gICAgdHlwZW9mIGFyZy53ZWJfaWRlbnRpdHlfdG9rZW5fZmlsZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIHR5cGVvZiBhcmcucm9sZV9hcm4gPT09IFwic3RyaW5nXCIgJiZcbiAgICBbXCJ1bmRlZmluZWRcIiwgXCJzdHJpbmdcIl0uaW5kZXhPZih0eXBlb2YgYXJnLnJvbGVfc2Vzc2lvbl9uYW1lKSA+IC0xO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVXZWJJZGVudGl0eUNyZWRlbnRpYWxzID0gYXN5bmMgKHByb2ZpbGUsIG9wdGlvbnMpID0+IGltcG9ydChcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItd2ViLWlkZW50aXR5XCIpLnRoZW4oKHsgZnJvbVRva2VuRmlsZSB9KSA9PiBmcm9tVG9rZW5GaWxlKHtcbiAgICB3ZWJJZGVudGl0eVRva2VuRmlsZTogcHJvZmlsZS53ZWJfaWRlbnRpdHlfdG9rZW5fZmlsZSxcbiAgICByb2xlQXJuOiBwcm9maWxlLnJvbGVfYXJuLFxuICAgIHJvbGVTZXNzaW9uTmFtZTogcHJvZmlsZS5yb2xlX3Nlc3Npb25fbmFtZSxcbiAgICByb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eTogb3B0aW9ucy5yb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSxcbiAgICBsb2dnZXI6IG9wdGlvbnMubG9nZ2VyLFxuICAgIHBhcmVudENsaWVudENvbmZpZzogb3B0aW9ucy5wYXJlbnRDbGllbnRDb25maWcsXG59KSgpKTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBpc0Fzc3VtZVJvbGVQcm9maWxlLCByZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFsc1wiO1xuaW1wb3J0IHsgaXNQcm9jZXNzUHJvZmlsZSwgcmVzb2x2ZVByb2Nlc3NDcmVkZW50aWFscyB9IGZyb20gXCIuL3Jlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHNcIjtcbmltcG9ydCB7IGlzU3NvUHJvZmlsZSwgcmVzb2x2ZVNzb0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZVNzb0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBpc1N0YXRpY0NyZWRzUHJvZmlsZSwgcmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBpc1dlYklkZW50aXR5UHJvZmlsZSwgcmVzb2x2ZVdlYklkZW50aXR5Q3JlZGVudGlhbHMgfSBmcm9tIFwiLi9yZXNvbHZlV2ViSWRlbnRpdHlDcmVkZW50aWFsc1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVQcm9maWxlRGF0YSA9IGFzeW5jIChwcm9maWxlTmFtZSwgcHJvZmlsZXMsIG9wdGlvbnMsIHZpc2l0ZWRQcm9maWxlcyA9IHt9KSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHByb2ZpbGVzW3Byb2ZpbGVOYW1lXTtcbiAgICBpZiAoT2JqZWN0LmtleXModmlzaXRlZFByb2ZpbGVzKS5sZW5ndGggPiAwICYmIGlzU3RhdGljQ3JlZHNQcm9maWxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlU3RhdGljQ3JlZGVudGlhbHMoZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc0Fzc3VtZVJvbGVQcm9maWxlKGRhdGEsIHsgcHJvZmlsZTogcHJvZmlsZU5hbWUsIGxvZ2dlcjogb3B0aW9ucy5sb2dnZXIgfSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVBc3N1bWVSb2xlQ3JlZGVudGlhbHMocHJvZmlsZU5hbWUsIHByb2ZpbGVzLCBvcHRpb25zLCB2aXNpdGVkUHJvZmlsZXMpO1xuICAgIH1cbiAgICBpZiAoaXNTdGF0aWNDcmVkc1Byb2ZpbGUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTdGF0aWNDcmVkZW50aWFscyhkYXRhLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzV2ViSWRlbnRpdHlQcm9maWxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlV2ViSWRlbnRpdHlDcmVkZW50aWFscyhkYXRhLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzUHJvY2Vzc1Byb2ZpbGUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMob3B0aW9ucywgcHJvZmlsZU5hbWUpO1xuICAgIH1cbiAgICBpZiAoaXNTc29Qcm9maWxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNvbHZlU3NvQ3JlZGVudGlhbHMocHJvZmlsZU5hbWUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBDb3VsZCBub3QgcmVzb2x2ZSBjcmVkZW50aWFscyB1c2luZyBwcm9maWxlOiBbJHtwcm9maWxlTmFtZX1dIGluIGNvbmZpZ3VyYXRpb24vY3JlZGVudGlhbHMgZmlsZShzKS5gLCB7IGxvZ2dlcjogb3B0aW9ucy5sb2dnZXIgfSk7XG59O1xuIiwiaW1wb3J0IHsgZ2V0UHJvZmlsZU5hbWUsIHBhcnNlS25vd25GaWxlcyB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IHJlc29sdmVQcm9maWxlRGF0YSB9IGZyb20gXCIuL3Jlc29sdmVQcm9maWxlRGF0YVwiO1xuZXhwb3J0IGNvbnN0IGZyb21JbmkgPSAoaW5pdCA9IHt9KSA9PiBhc3luYyAoKSA9PiB7XG4gICAgaW5pdC5sb2dnZXI/LmRlYnVnKFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkgLSBmcm9tSW5pXCIpO1xuICAgIGNvbnN0IHByb2ZpbGVzID0gYXdhaXQgcGFyc2VLbm93bkZpbGVzKGluaXQpO1xuICAgIHJldHVybiByZXNvbHZlUHJvZmlsZURhdGEoZ2V0UHJvZmlsZU5hbWUoaW5pdCksIHByb2ZpbGVzLCBpbml0KTtcbn07XG4iLCJleHBvcnQgKiBmcm9tIFwiLi9mcm9tSW5pXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4157\n')}};